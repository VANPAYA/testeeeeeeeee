<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ãƒ´ã‚¡ãƒ³ãƒ‘ã‚¤ã‚¢å…¨çŸ¥å…¨èƒ½ â€” Kanji & Jogo</title>

<style>
:root{
  --bg:#0b0f14;
  --border:rgba(255,255,255,.16);
  --text:#eef2ff;
  --muted:rgba(238,242,255,.72);
  --muted2:rgba(238,242,255,.55);

  /* THEME (muda a cada 5s) */
  --themeHue: 195;

  --accent:  hsl(calc(var(--themeHue) - 25) 90% 60%);
  --accent2: hsl(var(--themeHue) 90% 58%);
  --accent3: hsl(calc(var(--themeHue) + 55) 90% 62%);

  --good:#34d399;
  --bad:#fb7185;
  --warn:#fbbf24;

  --radius:18px;
  --shadow: 0 18px 60px rgba(0,0,0,.55);

  --selectBg:#0f1826;
  --selectBorder:rgba(255,255,255,.28);

  --inputBg:#0f1826;
  --inputBorder:rgba(255,255,255,.28);
}

*{ box-sizing:border-box; }

body{
  margin:0;
  color:var(--text);
  font-family:"Yu Gothic","Hiragino Kaku Gothic ProN",system-ui,sans-serif;
  line-height:1.9;
  background:
    radial-gradient(1100px 650px at 12% 10%, hsla(calc(var(--themeHue) - 25), 90%, 60%, .22), transparent 55%),
    radial-gradient(900px 600px at 92% 15%, hsla(var(--themeHue), 90%, 58%, .18), transparent 55%),
    radial-gradient(900px 650px at 20% 92%, hsla(calc(var(--themeHue) + 55), 90%, 62%, .14), transparent 55%),
    var(--bg);
  transition: background .65s ease, filter .65s ease;
}

header{
  position:sticky;
  top:0;
  z-index:10;
  background: rgba(10,14,20,.78);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  border-bottom:1px solid var(--border);
}

.topbar{
  max-width:1180px;
  margin:auto;
  padding:18px 18px 12px;
  display:flex;
  gap:16px;
  align-items:flex-start;
  justify-content:space-between;
  flex-wrap:wrap;
}

.brand{ min-width:280px; }
.brand .t{ font-size:20px; font-weight:900; letter-spacing:1.2px; }
.brand .s{ margin-top:6px; color:var(--muted); font-size:13px; }
.brand .s b{ color:var(--text); }

nav{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; justify-content:flex-end; }

.container{ max-width:1180px; margin:auto; padding:22px 18px 90px; }

.section{ display:none; }
.section.active{ display:block; }

.grid{ display:grid; grid-template-columns: 1.2fr .8fr; gap:16px; }
@media (max-width: 980px){ .grid{ grid-template-columns: 1fr; } }

.panel{
  background: rgba(255,255,255,.06);
  border:1px solid var(--border);
  border-radius:22px;
  padding:16px;
  box-shadow: var(--shadow);
}
.panel h2{ margin:0 0 8px; font-size:15px; letter-spacing:.6px; }

.hint{ color:var(--muted); font-size:13px; margin:0; }

.row{ display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap; }

.card{
  background: rgba(255,255,255,.08);
  border:1px solid rgba(255,255,255,.14);
  border-radius: var(--radius);
  padding:16px;
  margin-top:12px;
}

.jp{ font-size:22px; font-weight:900; color: var(--accent2); letter-spacing:.6px; }
.hira{ margin-top:6px; color:var(--muted); font-size:13px; }
.mean{ margin-top:8px; font-size:14px; font-weight:700; }

.badges{ display:flex; gap:8px; flex-wrap:wrap; margin-top:10px; }
.badge{
  font-size:11px;
  padding:4px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.18);
  color:var(--muted);
  background: rgba(255,255,255,.06);
}
.badge.n5{ border-color: rgba(52,211,153,.45); color: rgba(52,211,153,.95); }
.badge.n4{ border-color: rgba(59,130,246,.45); color: rgba(147,197,253,.95); }
.badge.tag{ border-color: rgba(255,255,255,.22); color: var(--text); }

.tabbtn{
  cursor:pointer;
  border:1px solid rgba(255,255,255,.22);
  background: rgba(255,255,255,.10);
  color: rgba(238,242,255,.92);
  padding:10px 14px;
  border-radius:999px;
  font-size:13px;
  user-select:none;
  box-shadow: var(--shadow);
  transition: transform .08s ease, background .18s ease, border-color .18s ease;
}
.tabbtn:hover{ background: rgba(255,255,255,.14); }
.tabbtn:active{ transform: translateY(1px); }
.tabbtn.active{
  border-color: hsla(var(--themeHue), 90%, 60%, .60);
  background: hsla(var(--themeHue), 90%, 55%, .22);
}

.btn{
  cursor:pointer;
  border:1px solid rgba(255,255,255,.28);
  background: rgba(255,255,255,.12);
  color: rgba(255,255,255,.98);
  padding:9px 12px;
  border-radius:14px;
  font-size:12px;
  font-weight:800;
  user-select:none;
  transition: transform .08s ease, background .18s ease, border-color .18s ease;
  display:inline-flex;
  align-items:center;
  gap:8px;
  white-space:nowrap;
  text-decoration:none;
}
.btn:hover{ background: rgba(255,255,255,.16); border-color: rgba(255,255,255,.38); }
.btn:active{ transform: translateY(1px); }
.btn.primary{
  border-color: hsla(var(--themeHue), 90%, 60%, .70);
  background: hsla(var(--themeHue), 90%, 55%, .26);
}
.btn.good{ border-color: rgba(52,211,153,.75); background: rgba(52,211,153,.20); }
.btn.danger{ border-color: rgba(251,113,133,.75); background: rgba(251,113,133,.18); }
.btn.warn{ border-color: rgba(251,191,36,.75); background: rgba(251,191,36,.18); }
.btn.ghost{
  border-color: rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
}

/* =========================
   (NOVO) BOTÃƒO â€” ANÃLISE DE TEXTO
========================= */
.btn.linkout{
  border-color: hsla(var(--themeHue), 90%, 60%, .55);
  background: rgba(255,255,255,.10);
}
.btn.linkout .dot{
  width:8px; height:8px; border-radius:50%;
  background: hsla(var(--themeHue), 90%, 60%, .95);
  box-shadow: 0 0 18px hsla(var(--themeHue), 90%, 60%, .35);
}

select{
  padding:9px 11px;
  border-radius:12px;
  border:1px solid var(--selectBorder);
  background: var(--selectBg);
  color: rgba(255,255,255,.96);
  outline:none;
  font-weight:900;
}
input[type="text"]{
  padding:9px 11px;
  border-radius:12px;
  border:1px solid var(--inputBorder);
  background: var(--inputBg);
  color: rgba(255,255,255,.96);
  outline:none;
  font-weight:900;
  min-width: 240px;
}
input[type="text"]::placeholder{ color: rgba(238,242,255,.55); font-weight:700; }

.kanjigrid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(92px, 1fr));
  gap:12px;
  margin-top:12px;
}

.kanjiitem{
  background: rgba(255,255,255,.10);
  border:1px solid rgba(255,255,255,.20);
  border-radius: 16px;
  padding:12px 10px;
  text-align:center;
  cursor:pointer;
  transition: transform .12s ease, border-color .18s ease, background .18s ease;
}
.kanjiitem:hover{
  transform: translateY(-1px);
  border-color: hsla(var(--themeHue), 90%, 60%, .55);
  background: rgba(255,255,255,.13);
}
.kanjiitem .k{ font-size:28px; font-weight:900; color: var(--accent2); }
.kanjiitem .lvl{ margin-top:6px; font-size:11px; color: var(--muted); }
.kanjiitem .lvl b{ color: var(--text); }

.strokeBox{
  margin-top:12px;
  border:1px solid rgba(255,255,255,.16);
  border-radius:16px;
  overflow:hidden;
  background: rgba(255,255,255,.07);
}
.strokeHead{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:10px 12px;
  border-bottom:1px solid rgba(255,255,255,.12);
}
.strokeHead .t{ font-size:13px; color: var(--muted); }
.strokeBody{ padding:12px; }
.strokeBody svg{ width:100%; height:auto; display:block; }
.strokeNote{ color: var(--muted2); font-size:12px; margin-top:8px; }

.bigKanji{
  font-size:86px;
  font-weight:900;
  letter-spacing:2px;
  text-align:center;
  color: var(--accent2);
  line-height:1.0;
  margin: 8px 0 6px;
}

hr.sep{ border:none; border-top:1px solid rgba(255,255,255,.10); margin:14px 0; }

.small{ color: var(--muted); font-size:13px; }
.small b{ color: var(--text); }

.footer{ text-align:center; padding:40px 0 0; color: var(--muted2); font-size:12px; }

.mcGrid{ display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:12px; }
@media (max-width: 820px){ .mcGrid{ grid-template-columns:1fr; } }

.mcBox{
  border:1px solid rgba(255,255,255,.14);
  border-radius:16px;
  padding:12px;
  background: rgba(255,255,255,.07);
}
.mcBox h3{ margin:0 0 8px; font-size:13px; color: var(--muted); letter-spacing:.6px; }

.choiceList{ display:grid; gap:8px; }
.choiceBtn{
  text-align:left;
  padding:12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.26);
  background: rgba(255,255,255,.14);
  color: rgba(255,255,255,.98);
  cursor:pointer;
  font-weight:900;
  transition: transform .08s ease, border-color .18s ease, background .18s ease;
}
.choiceBtn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,.18);
  border-color: hsla(var(--themeHue), 90%, 60%, .55);
}
.choiceBtn.correct{ border-color: rgba(52,211,153,.85); background: rgba(52,211,153,.22); }
.choiceBtn.wrong{ border-color: rgba(251,113,133,.85); background: rgba(251,113,133,.20); }
.choiceBtn:disabled{ opacity:.96; cursor:not-allowed; }

.timerBarWrap{
  width:100%;
  height:10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.08);
  overflow:hidden;
  margin-top:10px;
}
.timerBar{
  height:100%;
  width:100%;
  background: linear-gradient(90deg,
    hsla(var(--themeHue), 90%, 60%, .90),
    hsla(calc(var(--themeHue) - 25), 90%, 60%, .85),
    hsla(calc(var(--themeHue) + 55), 90%, 62%, .75)
  );
  transition: width .12s linear, filter .65s ease;
}

.flash{ position: fixed; inset: 0; pointer-events: none; opacity: 0; z-index: 999; }
.flash.good{ background: radial-gradient(circle at 50% 35%, rgba(52,211,153,.24), transparent 62%); }
.flash.bad{  background: radial-gradient(circle at 50% 35%, rgba(251,113,133,.24), transparent 62%); }
.flash.on{ animation: flash .55s ease-out; }
@keyframes flash{ 0%{ opacity:0; } 20%{ opacity:1; } 100%{ opacity:0; } }

.toggle{
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.08);
  color: rgba(238,242,255,.90);
  font-size:12px;
  font-weight:900;
  user-select:none;
}
.toggle input{
  width:16px;
  height:16px;
  accent-color: hsl(var(--themeHue) 90% 60%);
}

/* =========================================================
   HERO â€” TORII (vermelho xintoÃ­sta) + ç„¡å¸¸ + chuva leve
========================================================= */
.hero{
  position:relative;
  height: 320px;
  overflow:hidden;
  border-bottom:1px solid rgba(255,255,255,.10);
}
.hero-bg{
  position:absolute; inset:-40px;
  background:
    radial-gradient(980px 640px at 18% 20%, rgba(130,90,255,.22), transparent 58%),
    radial-gradient(900px 650px at 84% 22%, rgba(0,255,200,.14), transparent 60%),
    radial-gradient(1000px 700px at 40% 88%, rgba(255,90,130,.14), transparent 58%),
    linear-gradient(180deg, rgba(6,8,12,.96), rgba(10,14,20,.99));
  transform: scale(1.04);
  filter: saturate(1.06);
}
.hero-pattern{
  position:absolute; inset:0;
  opacity:.14;
  mix-blend-mode: screen;
  background:
    radial-gradient(circle at 0 0, rgba(255,255,255,.18) 0 2px, transparent 2px 18px) 0 0/38px 38px,
    radial-gradient(circle at 19px 19px, rgba(255,255,255,.12) 0 2px, transparent 2px 18px) 0 0/38px 38px,
    radial-gradient(circle at 0 0, rgba(120,90,255,.16) 0 1px, transparent 1px 22px) 0 0/44px 44px;
  filter: blur(.2px);
}
#heroRain{
  position:absolute; inset:0;
  opacity:.28;
  mix-blend-mode: screen;
  pointer-events:none;
  filter: drop-shadow(0 0 8px rgba(0,0,0,.25));
}

/* =========================================================
   (NOVO) PERGUNTA FILOSÃ“FICA â€” centralizada acima
========================================================= */
.hero-question{
  position:absolute;
  left:50%;
  top:18%;
  transform: translateX(-50%);
  z-index:5;
  padding:10px 18px;
  border-radius:20px;
  border:1px solid rgba(255,255,255,.22);
  background: rgba(0,0,0,.28);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  text-align:center;
  white-space:nowrap;
  box-shadow: 0 0 40px rgba(160,240,255,.12);
}
.hero-question span{
  font-size: clamp(14px, 2.4vw, 18px);
  font-weight: 800;
  letter-spacing: 1.4px;
  background: linear-gradient(90deg,
    rgba(255,255,255,.95),
    rgba(180,240,255,.90),
    rgba(210,180,255,.90)
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow:
    0 0 14px rgba(180,240,255,.35),
    0 0 36px rgba(120,200,255,.22);
}

.hero-mujo{
  position:absolute;
  left:50%;
  top:52%;
  transform: translate(-50%,-52%);
  font-weight: 1000;
  letter-spacing: 12px;
  font-size: clamp(140px, 18vw, 280px);
  line-height: 1;
  opacity: .20;
  z-index:3;
  pointer-events:none;

  background: linear-gradient(90deg,
    rgba(255,255,255,.95),
    rgba(160,240,255,.62),
    rgba(210,170,255,.66),
    rgba(255,90,130,.45)
  );
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  -webkit-text-stroke: 1px rgba(255,255,255,.18);
  text-shadow:
    0 0 18px rgba(255,255,255,.08),
    0 0 48px rgba(160,240,255,.12),
    0 0 110px rgba(0,255,200,.08),
    0 0 160px rgba(255,90,130,.08);
  filter: drop-shadow(0 0 26px rgba(0,0,0,.60));
  animation: mujoBreath 7.4s ease-in-out infinite;
}
@keyframes mujoBreath{
  0%,100%{ transform: translate(-50%,-52%) scale(1.00); opacity:.18; }
  50%{ transform: translate(-50%,-53%) scale(1.02); opacity:.28; }
}

.hero-torii{
  position:absolute;
  left:50%;
  top:54%;
  width:min(1040px, 98vw);
  height:min(520px, 80vh);
  transform: translate(-50%,-54%);
  opacity:.90;
  pointer-events:none;
  z-index:4;
}
.hero-torii svg{
  width:100%;
  height:100%;
  display:block;
  filter: drop-shadow(0 0 30px rgba(0,0,0,.62));
}

.hero-title{
  position:absolute;
  left:50%;
  bottom:22px;
  transform: translateX(-50%);
  z-index:5;
  text-align:center;
  padding: 10px 14px;
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.18);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
.hero-title .a{
  font-weight:1000;
  letter-spacing:2px;
  font-size:12px;
  color: rgba(238,242,255,.78);
  text-transform: uppercase;
}
.hero-title .b{
  margin-top:4px;
  font-weight:1000;
  letter-spacing:1.6px;
  font-size:14px;
  background: linear-gradient(90deg, rgba(255,255,255,.92), rgba(160,240,255,.88), rgba(210,170,255,.90));
  -webkit-background-clip:text;
  background-clip:text;
  color: transparent;
  text-shadow: 0 0 18px rgba(160,240,255,.16);
}

/* =========================================================
   VOCAB no FEEDBACK (3 itens)
========================================================= */
.vocabBox{
  margin-top:12px;
  border:1px solid rgba(255,255,255,.14);
  border-radius:16px;
  padding:12px;
  background: rgba(255,255,255,.06);
}
.vocabTop{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}
.vocabList{ display:grid; gap:10px; margin-top:10px; }
.vocabItem{
  border:1px solid rgba(255,255,255,.14);
  border-radius:14px;
  padding:10px 12px;
  background: rgba(255,255,255,.06);
}
.vocabRow1{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.vocabWord{ font-weight:1000; font-size:14px; color: rgba(255,255,255,.96); }
.vocabReading, .vocabMeaning{ font-size:12px; color: var(--muted); margin-top:4px; }
.vocabReading b, .vocabMeaning b{ color: var(--text); }
</style>
</head>

<body>
<div id="flash" class="flash"></div>

<section class="hero" aria-hidden="true">
  <div class="hero-bg"></div>
  <div class="hero-pattern"></div>
  <canvas id="heroRain"></canvas>

  <!-- (NOVO) PERGUNTA FILOSÃ“FICA â€” centralizada um pouco acima -->
  <div class="hero-question">
    <span>ã©ã‚“ãªå“²å­¦è€…ã‚„å“²å­¦ãŒå¥½ãã§ã™ã‹ï¼Ÿ</span>
  </div>

  <div class="hero-mujo">ç„¡å¸¸</div>

  <!-- TORII xintoÃ­sta (vermelho + detalhes) -->
  <div class="hero-torii">
    <svg viewBox="0 0 1400 800" role="presentation" aria-hidden="true">
      <defs>
        <!-- Vermillion tÃ­pico (æœ±è‰²) -->
        <linearGradient id="toriiRed" x1="0" x2="1">
          <stop offset="0%"  stop-color="#ff6a5c"/>
          <stop offset="25%" stop-color="#e23b2e"/>
          <stop offset="65%" stop-color="#c7261b"/>
          <stop offset="100%" stop-color="#7a0f10"/>
        </linearGradient>

        <linearGradient id="toriiRed2" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0%" stop-color="#ff7a6b"/>
          <stop offset="40%" stop-color="#e23b2e"/>
          <stop offset="100%" stop-color="#a11416"/>
        </linearGradient>

        <!-- Preto envernizado no topo / base -->
        <linearGradient id="toriiBlack" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0%" stop-color="#151b24"/>
          <stop offset="60%" stop-color="#0b0f14"/>
          <stop offset="100%" stop-color="#05070a"/>
        </linearGradient>

        <!-- Leve granulaÃ§Ã£o de madeira/pintura -->
        <filter id="grain" x="-20%" y="-20%" width="140%" height="140%">
          <feTurbulence type="fractalNoise" baseFrequency=".8" numOctaves="2" seed="7" result="n"/>
          <feColorMatrix in="n" type="matrix"
            values="1 0 0 0 0
                    0 1 0 0 0
                    0 0 1 0 0
                    0 0 0 .08 0" result="a"/>
          <feComposite in="a" in2="SourceGraphic" operator="in" result="m"/>
          <feMerge>
            <feMergeNode in="SourceGraphic"/>
            <feMergeNode in="m"/>
          </feMerge>
        </filter>

        <filter id="shadow" x="-30%" y="-30%" width="160%" height="160%">
          <feGaussianBlur stdDeviation="10" result="b"/>
          <feColorMatrix in="b" type="matrix"
            values="1 0 0 0 0
                    0 1 0 0 0
                    0 0 1 0 0
                    0 0 0 .55 0" result="g"/>
          <feOffset dx="0" dy="8" result="o"/>
          <feMerge>
            <feMergeNode in="o"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>

        <!-- brilho discreto -->
        <filter id="edgeGlow" x="-30%" y="-30%" width="160%" height="160%">
          <feGaussianBlur stdDeviation="6" result="b"/>
          <feColorMatrix in="b" type="matrix"
            values="1 0 0 0 0
                    0 1 0 0 0
                    0 0 1 0 0
                    0 0 0 .25 0" result="g"/>
          <feMerge>
            <feMergeNode in="g"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>

      <!-- Topo (Kasagi) -->
      <path d="M120 185
               C 360 85, 1040 85, 1280 185
               C 1042 210, 358 210, 120 185 Z"
            fill="url(#toriiBlack)" filter="url(#shadow)"/>

      <!-- Segundo topo (Shimaki) -->
      <path d="M170 235
               C 390 155, 1010 155, 1230 235
               C 1012 255, 388 255, 170 235 Z"
            fill="url(#toriiRed)" filter="url(#edgeGlow)"/>

      <!-- Viga (Nuki) -->
      <path d="M265 315
               C 440 255, 960 255, 1135 315
               C 960 345, 440 345, 265 315 Z"
            fill="url(#toriiRed2)" filter="url(#grain)"/>

      <!-- Placa central (Gakuzuka) -->
      <g filter="url(#shadow)">
        <path d="M645 285
                 C 655 265, 745 265, 755 285
                 L 772 365
                 C 775 382, 760 396, 742 396
                 L 658 396
                 C 640 396, 625 382, 628 365 Z"
              fill="url(#toriiBlack)"/>
        <path d="M662 302 L 738 302 L 752 360 L 648 360 Z"
              fill="rgba(255,255,255,.06)"/>
      </g>

      <!-- Postes (Hashira) -->
      <g filter="url(#grain)">
        <!-- Esquerdo -->
        <path d="M395 305
                 C 375 430, 355 625, 370 732
                 C 380 770, 465 770, 480 732
                 C 500 625, 480 430, 462 305 Z"
              fill="url(#toriiRed2)"/>
        <!-- Direito -->
        <path d="M938 305
                 C 920 430, 900 625, 915 732
                 C 925 770, 1010 770, 1025 732
                 C 1045 625, 1025 430, 1007 305 Z"
              fill="url(#toriiRed2)"/>
      </g>

      <!-- Bases (Nemaki) -->
      <g filter="url(#shadow)">
        <path d="M330 740
                 C 395 700, 485 700, 550 740
                 C 485 780, 395 780, 330 740 Z"
              fill="url(#toriiBlack)"/>
        <path d="M865 740
                 C 930 700, 1020 700, 1085 740
                 C 1020 780, 930 780, 865 740 Z"
              fill="url(#toriiBlack)"/>
      </g>

      <!-- Cunhas/encaixes e sombras de detalhe -->
      <g opacity=".55">
        <path d="M420 342 C 470 320, 520 320, 570 342 C 520 358, 470 358, 420 342 Z"
              fill="rgba(0,0,0,.26)"/>
        <path d="M830 342 C 880 320, 930 320, 980 342 C 930 358, 880 358, 830 342 Z"
              fill="rgba(0,0,0,.26)"/>
      </g>

      <!-- Highlights de pintura -->
      <g opacity=".22">
        <path d="M200 248 C 410 170, 990 170, 1200 248"
              stroke="rgba(255,255,255,.70)" stroke-width="6" stroke-linecap="round" fill="none"/>
        <path d="M410 328 C 435 500, 430 650, 420 725"
              stroke="rgba(255,255,255,.35)" stroke-width="5" stroke-linecap="round" fill="none"/>
        <path d="M980 328 C 1005 500, 1000 650, 990 725"
              stroke="rgba(255,255,255,.35)" stroke-width="5" stroke-linecap="round" fill="none"/>
      </g>
    </svg>
  </div>

  <div class="hero-title">
    <div class="a">KANJI Â· JLPT</div>
    <div class="b">ãƒ´ã‚¡ãƒ³ãƒ‘ã‚¤ã‚¢å…¨çŸ¥å…¨èƒ½</div>
  </div>
</section>

<header>
  <div class="topbar">
    <div class="brand">
      <div class="t">ãƒ´ã‚¡ãƒ³ãƒ‘ã‚¤ã‚¢å…¨çŸ¥å…¨èƒ½</div>
      <div class="s">Kanji <b>N5 + N4</b></div>
    </div>

    <nav>
      <div class="tabbtn active" id="tab-kanji">ğŸˆ¶ Kanji</div>
      <div class="tabbtn" id="tab-quiz">ğŸ® Jogo</div>

      <!-- âœ… (NOVO) LINK PRO SITE DE ANÃLISE DE TEXTO -->
      <a class="btn linkout" href="https://vanpaya.github.io/TEXTOOO/" target="_blank" rel="noopener">
        <span class="dot"></span> AnÃ¡lise de Texto
      </a>
    </nav>
  </div>
</header>

<div class="container">

  <!-- ====================== KANJI ====================== -->
  <section id="kanji" class="section active">
    <div class="grid">
      <div class="panel">
        <div class="row">
          <div>
            <h2>Kanji (N5 + N4)</h2>
            <p class="hint" id="kanjiCountHint">â€”</p>
          </div>

          <div class="row">
            <div class="small">Filtro</div>
            <select id="levelFilter">
              <option value="ALL" selected>ALL (N5+N4)</option>
              <option value="N5">Somente N5</option>
              <option value="N4">Somente N4</option>
            </select>
          </div>
        </div>

        <div class="row" style="margin-top:10px;">
          <div class="small">Pesquisar</div>
          <input id="kanjiSearch" type="text" placeholder="Ex: å­¦ / ãŒã / ã¾ãª / casa / mundo" />
          <div class="btn warn" id="clearSearch">Limpar</div>
        </div>

        <div class="kanjigrid" id="kanjigrid"></div>
      </div>

      <div class="panel" id="detailPanel">
        <h2>Detalhe</h2>
        <p class="hint">Selecione um kanji na lista.</p>

        <div id="kanjiDetail" class="card" style="display:none;">
          <div class="jp" id="kdKanji"></div>
          <div class="hira" id="kdReadings"></div>
          <div class="mean" id="kdMean"></div>
          <div class="badges" id="kdBadges"></div>

          <div class="strokeBox" id="kdStrokeBox">
            <div class="strokeHead">
              <div class="t">Ordem dos traÃ§os</div>
              <div class="row">
                <div class="btn primary" id="kdReplay">Repetir</div>
                <select id="kdSpeed" title="Velocidade">
                  <option value="0.7">RÃ¡pido</option>
                  <option value="1" selected>Normal</option>
                  <option value="1.35">Lento</option>
                </select>
              </div>
            </div>
            <div class="strokeBody" id="kdStroke"></div>
            <div class="strokeNote">Fonte: KanjiVG (SVG).</div>
          </div>

          <hr class="sep">
          <div class="row">
            <div class="btn good" id="kdTrain">Treinar no Jogo</div>
          </div>
        </div>

        <div id="kanjiDetailEmpty" class="card">
          <div class="mean" style="color:var(--muted);">Clique em um kanji para ver detalhes aqui.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ====================== JOGO ====================== -->
  <section id="quiz" class="section">
    <div class="grid">
      <div class="panel">
        <div class="row">
          <div>
            <h2>Jogo</h2>
            <p class="hint" id="quizModeHint">Modo: normal</p>
          </div>

          <div class="row">
            <label class="toggle" title="Repete mais os que vocÃª erra">
              <input type="checkbox" id="quizSmart" checked />
              modo inteligente
            </label>
            <label class="toggle" title="Reinicia automaticamente a cada questÃ£o (apÃ³s vocÃª apertar Start uma vez)">
              <input type="checkbox" id="quizAuto" checked />
              auto-run
            </label>
          </div>
        </div>

        <div class="card">
          <div class="row" style="align-items:flex-end;">
            <div style="flex:1;">
              <div class="bigKanji" id="quizKanji">ä¸€</div>
              <div class="badges" style="justify-content:center;">
                <span class="badge" id="quizScore">Acertos: 0 Â· Erros: 0 Â· Streak: 0</span>
                <span class="badge" id="quizTimerText">â±ï¸ 12s</span>
                <span class="badge tag" id="quizMoodText">Mood: â€”</span>
                <span class="badge tag" id="quizReviewCountBadge" style="display:none;">RevisÃ£o: <b id="quizReviewCount">0</b></span>
              </div>
              <div class="timerBarWrap">
                <div class="timerBar" id="timerBar"></div>
              </div>
            </div>

            <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:flex-end;">
              <div class="small">NÃ­vel</div>
              <select id="quizLevel">
                <option value="ALL" selected>ALL</option>
                <option value="N5">N5</option>
                <option value="N4">N4</option>
              </select>

              <div class="small">Tempo</div>
              <select id="quizTime">
                <option value="8">8s</option>
                <option value="12" selected>12s</option>
                <option value="18">18s</option>
                <option value="25">25s</option>
              </select>

              <div class="btn good" id="quizStart">Start</div>
              <div class="btn warn" id="quizPause">Pausar</div>
              <div class="btn primary" id="quizNext">PrÃ³ximo</div>
              <div class="btn danger" id="quizReset">Zerar sessÃ£o</div>

              <div class="btn ghost" id="quizReviewBtn" style="display:none;" title="Atalho: tecla P">Revisar erros</div>
            </div>
          </div>

          <hr class="sep">

          <div class="mcGrid">
            <div class="mcBox">
              <h3>Leitura</h3>
              <div class="choiceList" id="readingChoices"></div>
            </div>

            <div class="mcBox">
              <h3>Significado</h3>
              <div class="choiceList" id="meaningChoices"></div>
            </div>
          </div>

          <div id="quizFeedback" class="card" style="display:none;">
            <div class="mean" id="quizFeedbackTitle"></div>
            <div class="hira" id="quizFeedbackDetail"></div>

            <div class="vocabBox" id="quizVocabBox" style="display:none;">
              <div class="vocabTop">
                <div class="mean" style="margin:0;">
                  ğŸ“š VocabulÃ¡rio (3) â€”
                  <span class="badge tag" id="quizVocabLvl">â€”</span>
                </div>
                <div class="small" id="quizVocabStatus">â€”</div>
              </div>
              <div class="vocabList" id="quizVocabList"></div>
            </div>

            <div class="strokeBox" style="margin-top:12px;">
              <div class="strokeHead">
                <div class="t">Ordem dos traÃ§os</div>
                <div class="row">
                  <div class="btn primary" id="quizReplay">Repetir</div>
                  <select id="quizSpeed" title="Velocidade">
                    <option value="0.7">RÃ¡pido</option>
                    <option value="1" selected>Normal</option>
                    <option value="1.35">Lento</option>
                  </select>
                </div>
              </div>
              <div class="strokeBody" id="quizStroke"></div>
              <div class="strokeNote">Fonte: KanjiVG.</div>
            </div>
          </div>
        </div>
      </div>

      <div class="panel">
        <h2>Ranking + EstatÃ­sticas</h2>
        <p class="hint">Salvo no navegador.</p>

        <div class="card">
          <div class="mean">ğŸ† Melhores marcas</div>
          <div class="small" id="bestStats">â€”</div>

          <hr class="sep">
          <div class="mean">ğŸ“Š Kanji mais errados</div>
          <div class="small" id="worstKanjis">â€”</div>

          <hr class="sep">
          <div class="row">
            <div class="btn danger" id="resetHistory">Resetar histÃ³rico</div>
            <div class="btn good" id="goKanji">Voltar ao Kanji</div>
          </div>

          <hr class="sep">
          <div class="small">
            <b>RevisÃ£o</b>: aparece sÃ³ quando existe erro acumulado na sessÃ£o.<br>
            Atalho: tecla <b>P</b> no modo Jogo.
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="footer">ãƒ´ã‚¡ãƒ³ãƒ‘ã‚¤ã‚¢å…¨çŸ¥å…¨èƒ½ Â© 2025</div>
</div>

<script>
/* =========================
   THEME CYCLE (a cada 5s)
========================= */
(function(){
  const hues = [195, 230, 265, 305, 20, 55, 110, 155];
  let i = Math.floor(Math.random() * hues.length);
  document.documentElement.style.setProperty("--themeHue", String(hues[i]));
  setInterval(()=>{
    i = (i + 1) % hues.length;
    document.documentElement.style.setProperty("--themeHue", String(hues[i]));
  }, 5000);
})();

/* =========================
   LISTAS DE NÃVEL
========================= */
const N5_LIST = ["ä¸€","ä¸ƒ","ä¸‡","ä¸‰","ä¸Š","ä¸‹","ä¸­","ä¹","äºŒ","äº”","äºº","ä»Š","ä¼‘","ä½•","å…ˆ","å…¥","å…«","å…­","å††","å‡º","åˆ†","å‰","åŒ—","å","åƒ","åˆ","åŠ","å—","å‹","å³","å","å››","å›½","åœŸ","å¤–","å¤§","å¤©","å¥³","å­","å­¦","å°","å±±","å·","å·¦","å¹´","å¾Œ","æ—¥","æ™‚","æ›¸","æœˆ","æœ¨","æœ¬","æ¥","æ±","æ ¡","æ¯","æ¯","æ°—","æ°´","ç«","çˆ¶","ç”Ÿ","ç”·","ç™½","ç™¾","è","è¡Œ","è¥¿","è¦‹","è©±","èª","èª­","è»Š","é‡‘","é•·","é–“","é›¨","é›»","é£Ÿ","é«˜"];
const N4_LIST = ["ä¸","ä¸–","ä¸»","äº‹","äº¬","ä»•","ä»£","ä»¥","ä¼š","ä½","ä½“","ä½œ","ä½¿","å€Ÿ","å…ƒ","å…„","å…¬","å†™","å†¬","åˆ‡","åˆ¥","åŠ›","å‹‰","å‹•","åŒ»","å»","å£","å¤","å°","åŒ","å‘³","å“","å“¡","å•","å›³","åœ°","å ‚","å ´","å£²","å¤","å¤•","å¤š","å¤œ","å¦¹","å§‰","å§‹","å­—","å®‰","å®¤","å®¶","å°‘","å±‹","å·¥","å¸°","åºƒ","åº—","åº¦","å»º","å¼Ÿ","å¼·","å¾…","å¿ƒ","æ€","æ€¥","æ‚ª","æ„","æ‰‹","æŒ","æ•™","æ–‡","æ–™","æ–°","æ–¹","æ—…","æ—","æ—©","æ˜","æ˜ ","æ˜¥","æ˜¼","æ›œ","æœ‰","æœ","æœ","æ¥­","æ¥½","æ­Œ","æ­¢","æ­£","æ­©","æ­»","æ³¨","æ´‹","æµ·","æ¼¢","ç‰›","ç‰©","ç‰¹","çŠ¬","ç†","ç”¨","ç”°","ç”º","ç”»","ç•Œ","ç—…","ç™º","çš„","ç›®","çœŸ","ç€","çŸ¥","ç ”","ç¤¾","ç§","ç§‹","ç©¶","ç©º","ç«‹","ç­”","ç´™","çµ‚","ç¿’","è€ƒ","è€…","è‚‰","è‡ª","è‰²","èŠ±","è‹±","èŒ¶","è¦ª","è¨€","è¨ˆ","è©¦","è²·","è²¸","è³ª","èµ¤","èµ°","èµ·","è¶³","è»¢","è¿‘","é€","é€š","é€±","é‹","é“","é‡","é‡","éŠ€","é–‹","é™¢","é›†","é’","éŸ³","é¡Œ","é¢¨","é£¯","é£²","é¤¨","é§…","é¨“","é­š","é³¥","é»’"];
const N5_SET = new Set(N5_LIST);
const N4_SET = new Set(N4_LIST);

/* =========================
   KANJI_INFO (PT-BR)
========================= */
const KANJI_INFO = {
  "ä¸€":{readings:["ã„ã¡","ã²ã¨"], meaning:"um"},"ä¸ƒ":{readings:["ã—ã¡","ãªãª"], meaning:"sete"},"ä¸‡":{readings:["ã¾ã‚“"], meaning:"dez mil"},"ä¸‰":{readings:["ã•ã‚“","ã¿ã£"], meaning:"trÃªs"},
  "ä¸Š":{readings:["ã†ãˆ","ã˜ã‚‡ã†"], meaning:"cima / sobre"},"ä¸‹":{readings:["ã—ãŸ","ã‹"], meaning:"baixo / descer"},"ä¸­":{readings:["ãªã‹","ã¡ã‚…ã†"], meaning:"meio / dentro"},
  "ä¹":{readings:["ãã‚…ã†","ã“ã“ã®"], meaning:"nove"},"äºŒ":{readings:["ã«","ãµãŸ"], meaning:"dois"},"äº”":{readings:["ã”","ã„ã¤"], meaning:"cinco"},
  "äºº":{readings:["ã²ã¨","ã«ã‚“"], meaning:"pessoa"},"ä»Š":{readings:["ã„ã¾","ã“ã‚“"], meaning:"agora"},"ä¼‘":{readings:["ã‚„ã™","ãã‚…ã†"], meaning:"descansar"},
  "ä½•":{readings:["ãªã«","ãªã‚“"], meaning:"o que"},"å…ˆ":{readings:["ã•ã","ã›ã‚“"], meaning:"antes / anterior"},"å…¥":{readings:["ã„","ã«ã‚…ã†"], meaning:"entrar"},
  "å…«":{readings:["ã¯ã¡","ã‚„"], meaning:"oito"},"å…­":{readings:["ã‚ã","ã‚€"], meaning:"seis"},"å††":{readings:["ãˆã‚“"], meaning:"iene / cÃ­rculo"},
  "å‡º":{readings:["ã§","ã—ã‚…ã¤"], meaning:"sair / aparecer"},"åˆ†":{readings:["ãµã‚“","ã¶ã‚“","ã‚"], meaning:"minuto / parte"},"å‰":{readings:["ã¾ãˆ","ãœã‚“"], meaning:"antes / frente"},
  "åŒ—":{readings:["ããŸ","ã»ã"], meaning:"norte"},"å":{readings:["ã˜ã‚…ã†","ã¨ãŠ"], meaning:"dez"},"åƒ":{readings:["ã›ã‚“"], meaning:"mil"},
  "åˆ":{readings:["ã”"], meaning:"meio-dia"},"åŠ":{readings:["ã¯ã‚“"], meaning:"metade"},"å—":{readings:["ã¿ãªã¿","ãªã‚“"], meaning:"sul"},
  "å‹":{readings:["ã¨ã‚‚","ã‚†ã†"], meaning:"amigo"},"å³":{readings:["ã¿ã","ã†"], meaning:"direita"},"å":{readings:["ãª","ã‚ã„"], meaning:"nome"},
  "å››":{readings:["ã‚ˆã‚“","ã—"], meaning:"quatro"},"å›½":{readings:["ãã«","ã“ã"], meaning:"paÃ­s"},"åœŸ":{readings:["ã¤ã¡","ã©"], meaning:"terra / solo"},
  "å¤–":{readings:["ãã¨","ãŒã„"], meaning:"fora"},"å¤§":{readings:["ãŠãŠ","ã ã„"], meaning:"grande"},"å¤©":{readings:["ã¦ã‚“","ã‚ã¾"], meaning:"cÃ©u"},
  "å¥³":{readings:["ãŠã‚“ãª","ã˜ã‚‡"], meaning:"mulher"},"å­":{readings:["ã“","ã—"], meaning:"crianÃ§a"},"å­¦":{readings:["ã¾ãª","ãŒã"], meaning:"estudar / estudo"},
  "å°":{readings:["ã¡ã„","ã—ã‚‡ã†"], meaning:"pequeno"},"å±±":{readings:["ã‚„ã¾","ã•ã‚“"], meaning:"montanha"},"å·":{readings:["ã‹ã‚","ã›ã‚“"], meaning:"rio"},
  "å·¦":{readings:["ã²ã ã‚Š","ã•"], meaning:"esquerda"},"å¹´":{readings:["ã¨ã—","ã­ã‚“"], meaning:"ano"},"å¾Œ":{readings:["ã‚ã¨","ã”"], meaning:"depois / atrÃ¡s"},
  "æ—¥":{readings:["ã²","ã«ã¡"], meaning:"dia / sol"},"æ™‚":{readings:["ã¨ã","ã˜"], meaning:"tempo / hora"},"æ›¸":{readings:["ã‹","ã—ã‚‡"], meaning:"escrever"},
  "æœˆ":{readings:["ã¤ã","ã’ã¤"], meaning:"mÃªs / lua"},"æœ¨":{readings:["ã","ã‚‚ã"], meaning:"Ã¡rvore / madeira"},"æœ¬":{readings:["ã»ã‚“","ã‚‚ã¨"], meaning:"livro / origem"},
  "æ¥":{readings:["ã","ã‚‰ã„"], meaning:"vir"},"æ±":{readings:["ã²ãŒã—","ã¨ã†"], meaning:"leste"},"æ ¡":{readings:["ã“ã†"], meaning:"escola"},
  "æ¯":{readings:["ã¯ã¯","ã¼"], meaning:"mÃ£e"},"æ¯":{readings:["ã¾ã„"], meaning:"cada / todo"},"æ°—":{readings:["ã"], meaning:"energia / humor"},
  "æ°´":{readings:["ã¿ãš","ã™ã„"], meaning:"Ã¡gua"},"ç«":{readings:["ã²","ã‹"], meaning:"fogo"},"çˆ¶":{readings:["ã¡ã¡","ãµ"], meaning:"pai"},
  "ç”Ÿ":{readings:["ã„","ã›ã„","ãªã¾"], meaning:"vida / nascer / cru"},"ç”·":{readings:["ãŠã¨ã“","ã ã‚“"], meaning:"homem"},"ç™½":{readings:["ã—ã‚","ã¯ã"], meaning:"branco"},
  "ç™¾":{readings:["ã²ã‚ƒã"], meaning:"cem"},"è":{readings:["ã","ã¶ã‚“"], meaning:"ouvir / perguntar"},"è¡Œ":{readings:["ã„","ã“ã†"], meaning:"ir / fazer"},
  "è¥¿":{readings:["ã«ã—","ã›ã„"], meaning:"oeste"},"è¦‹":{readings:["ã¿","ã‘ã‚“"], meaning:"ver / olhar"},"è©±":{readings:["ã¯ãª","ã‚"], meaning:"falar / conversa"},
  "èª":{readings:["ã”"], meaning:"idioma / palavra"},"èª­":{readings:["ã‚ˆ","ã©ã"], meaning:"ler"},"è»Š":{readings:["ãã‚‹ã¾","ã—ã‚ƒ"], meaning:"carro / veÃ­culo"},
  "é‡‘":{readings:["ã‹ã­","ãã‚“"], meaning:"dinheiro / ouro"},"é•·":{readings:["ãªãŒ","ã¡ã‚‡ã†"], meaning:"longo / chefe"},"é–“":{readings:["ã‚ã„ã ","ã‹ã‚“"], meaning:"intervalo / entre"},
  "é›¨":{readings:["ã‚ã‚","ã†"], meaning:"chuva"},"é›»":{readings:["ã§ã‚“"], meaning:"eletricidade"},"é£Ÿ":{readings:["ãŸ","ã—ã‚‡ã"], meaning:"comer / comida"},
  "é«˜":{readings:["ãŸã‹","ã“ã†"], meaning:"alto / caro"},

  "ä¸":{readings:["ãµ","ãªã„"], meaning:"nÃ£o / negativo"},"ä¸–":{readings:["ã›ã„","ã‚ˆ"], meaning:"mundo / sociedade"},"ä¸»":{readings:["ã—ã‚…","ã¬ã—"], meaning:"principal / dono"},
  "äº‹":{readings:["ã“ã¨","ã˜"], meaning:"coisa / assunto"},"äº¬":{readings:["ãã‚‡ã†","ã‘ã„"], meaning:"capital"},"ä»•":{readings:["ã—"], meaning:"servir / trabalho"},
  "ä»£":{readings:["ã ã„","ãŸã„","ã‹"], meaning:"substituir / era"},"ä»¥":{readings:["ã„"], meaning:"a partir de / por"},"ä¼š":{readings:["ã‹ã„","ã‚"], meaning:"encontro / reuniÃ£o"},
  "ä½":{readings:["ã™","ã˜ã‚…ã†"], meaning:"morar"},"ä½“":{readings:["ã‹ã‚‰ã ","ãŸã„"], meaning:"corpo"},"ä½œ":{readings:["ã¤ã","ã•ã"], meaning:"fazer / criar"},
  "ä½¿":{readings:["ã¤ã‹","ã—"], meaning:"usar"},"å€Ÿ":{readings:["ã‹","ã—ã‚ƒã"], meaning:"pegar emprestado"},"å…ƒ":{readings:["ã‚‚ã¨","ã’ã‚“"], meaning:"origem / ex-"},
  "å…„":{readings:["ã‚ã«","ãã‚‡ã†"], meaning:"irmÃ£o mais velho"},"å…¬":{readings:["ã“ã†","ãŠãŠã‚„ã‘"], meaning:"pÃºblico"},"å†™":{readings:["ã†ã¤","ã—ã‚ƒ"], meaning:"copiar / fotografar"},
  "å†¬":{readings:["ãµã‚†","ã¨ã†"], meaning:"inverno"},"åˆ‡":{readings:["ã","ã›ã¤"], meaning:"cortar"},"åˆ¥":{readings:["ã¹ã¤","ã‚ã‹"], meaning:"separar / diferente"},
  "åŠ›":{readings:["ã¡ã‹ã‚‰","ã‚Šã‚‡ã"], meaning:"forÃ§a"},"å‹‰":{readings:["ã¹ã‚“"], meaning:"esforÃ§o (å‹‰å¼·)"},"å‹•":{readings:["ã†ã”","ã©ã†"], meaning:"mover / movimento"},
  "åŒ»":{readings:["ã„"], meaning:"medicina / mÃ©dico"},"å»":{readings:["ã•","ãã‚‡"], meaning:"passado / ir embora"},"å£":{readings:["ãã¡","ã“ã†"], meaning:"boca"},
  "å¤":{readings:["ãµã‚‹","ã“"], meaning:"antigo"},"å°":{readings:["ã ã„","ãŸã„"], meaning:"base / suporte"},"åŒ":{readings:["ãŠãª","ã©ã†"], meaning:"mesmo"},
  "å‘³":{readings:["ã‚ã˜","ã¿"], meaning:"sabor"},"å“":{readings:["ã—ãª","ã²ã‚“"], meaning:"produto / item"},"å“¡":{readings:["ã„ã‚“"], meaning:"membro / funcionÃ¡rio"},
  "å•":{readings:["ã¨","ã‚‚ã‚“"], meaning:"perguntar / pergunta"},"å›³":{readings:["ãš","ã¯ã‹"], meaning:"diagrama / plano"},"åœ°":{readings:["ã¡","ã˜"], meaning:"terra / local"},
  "å ‚":{readings:["ã©ã†"], meaning:"salÃ£o / prÃ©dio"},"å ´":{readings:["ã°","ã˜ã‚‡ã†"], meaning:"lugar"},"å£²":{readings:["ã†","ã°ã„"], meaning:"vender"},
  "å¤":{readings:["ãªã¤","ã‹"], meaning:"verÃ£o"},"å¤•":{readings:["ã‚†ã†"], meaning:"tarde / entardecer"},"å¤š":{readings:["ãŠãŠ","ãŸ"], meaning:"muito"},
  "å¤œ":{readings:["ã‚ˆã‚‹","ã‚„"], meaning:"noite"},"å¦¹":{readings:["ã„ã‚‚ã†ã¨"], meaning:"irmÃ£ mais nova"},"å§‰":{readings:["ã‚ã­"], meaning:"irmÃ£ mais velha"},
  "å§‹":{readings:["ã¯ã˜","ã—"], meaning:"comeÃ§ar"},"å­—":{readings:["ã˜"], meaning:"caractere / letra"},"å®‰":{readings:["ã‚„ã™","ã‚ã‚“"], meaning:"barato / seguro"},
  "å®¤":{readings:["ã—ã¤"], meaning:"sala / quarto"},"å®¶":{readings:["ã„ãˆ","ã‹"], meaning:"casa / famÃ­lia"},"å°‘":{readings:["ã™ã“","ã—ã‚‡ã†"], meaning:"pouco"},
  "å±‹":{readings:["ã‚„"], meaning:"loja / profissÃ£o"},"å·¥":{readings:["ã“ã†","ã"], meaning:"trabalho / tÃ©cnica"},"å¸°":{readings:["ã‹ãˆ","ã"], meaning:"voltar"},
  "åºƒ":{readings:["ã²ã‚","ã“ã†"], meaning:"amplo / largo"},"åº—":{readings:["ã¿ã›","ã¦ã‚“"], meaning:"loja"},"åº¦":{readings:["ã©","ãŸã³"], meaning:"vez / grau"},
  "å»º":{readings:["ãŸ","ã‘ã‚“"], meaning:"construir"},"å¼Ÿ":{readings:["ãŠã¨ã†ã¨","ã ã„"], meaning:"irmÃ£o mais novo"},"å¼·":{readings:["ã¤ã‚ˆ","ãã‚‡ã†"], meaning:"forte"},
  "å¾…":{readings:["ã¾","ãŸã„"], meaning:"esperar"},"å¿ƒ":{readings:["ã“ã“ã‚","ã—ã‚“"], meaning:"coraÃ§Ã£o / mente"},"æ€":{readings:["ãŠã‚‚","ã—"], meaning:"pensar"},
  "æ€¥":{readings:["ã„ã","ãã‚…ã†"], meaning:"urgente / rÃ¡pido"},"æ‚ª":{readings:["ã‚ã‚‹","ã‚ã"], meaning:"ruim / mal"},"æ„":{readings:["ã„"], meaning:"intenÃ§Ã£o / ideia"},
  "æ‰‹":{readings:["ã¦","ã—ã‚…"], meaning:"mÃ£o"},"æŒ":{readings:["ã‚‚","ã˜"], meaning:"segurar / ter"},"æ•™":{readings:["ãŠã—","ãã‚‡ã†"], meaning:"ensinar"},
  "æ–‡":{readings:["ã¶ã‚“","ãµã¿"], meaning:"texto / frase"},"æ–™":{readings:["ã‚Šã‚‡ã†"], meaning:"taxa / material"},"æ–°":{readings:["ã‚ãŸã‚‰","ã—ã‚“"], meaning:"novo"},
  "æ–¹":{readings:["ã‹ãŸ","ã»ã†"], meaning:"lado / maneira"},"æ—…":{readings:["ãŸã³","ã‚Šã‚‡"], meaning:"viagem"},"æ—":{readings:["ãã"], meaning:"famÃ­lia / grupo"},
  "æ—©":{readings:["ã¯ã‚„","ãã†"], meaning:"cedo / rÃ¡pido"},"æ˜":{readings:["ã‚ã‹","ã‚ã„"], meaning:"claro / brilhante"},"æ˜ ":{readings:["ã†ã¤","ãˆã„"], meaning:"refletir / projetar"},
  "æ˜¥":{readings:["ã¯ã‚‹","ã—ã‚…ã‚“"], meaning:"primavera"},"æ˜¼":{readings:["ã²ã‚‹"], meaning:"dia / meio-dia"},"æ›œ":{readings:["ã‚ˆã†"], meaning:"dia da semana"},
  "æœ‰":{readings:["ã‚","ã‚†ã†"], meaning:"existir / ter"},"æœ":{readings:["ãµã"], meaning:"roupa"},"æœ":{readings:["ã‚ã•","ã¡ã‚‡ã†"], meaning:"manhÃ£"},
  "æ¥­":{readings:["ãã‚‡ã†","ã‚ã–"], meaning:"trabalho / atividade"},"æ¥½":{readings:["ãŸã®","ãŒã","ã‚‰ã"], meaning:"diversÃ£o / conforto"},"æ­Œ":{readings:["ã†ãŸ","ã‹"], meaning:"canÃ§Ã£o / cantar"},
  "æ­¢":{readings:["ã¨","ã—"], meaning:"parar"},"æ­£":{readings:["ãŸã ","ã›ã„"], meaning:"correto"},"æ­©":{readings:["ã‚ã‚‹","ã»"], meaning:"andar (a pÃ©)"},
  "æ­»":{readings:["ã—","ã—ã¬"], meaning:"morrer"},"æ³¨":{readings:["ãã","ã¡ã‚…ã†"], meaning:"despejar / atenÃ§Ã£o"},"æ´‹":{readings:["ã‚ˆã†"], meaning:"ocidental"},
  "æµ·":{readings:["ã†ã¿","ã‹ã„"], meaning:"mar"},"æ¼¢":{readings:["ã‹ã‚“"], meaning:"chinÃªs (æ¼¢)"},"ç‰›":{readings:["ã†ã—","ãã‚…ã†"], meaning:"boi / vaca"},
  "ç‰©":{readings:["ã‚‚ã®","ã¶ã¤"], meaning:"coisa / objeto"},"ç‰¹":{readings:["ã¨ã"], meaning:"especial"},"çŠ¬":{readings:["ã„ã¬","ã‘ã‚“"], meaning:"cachorro"},
  "ç†":{readings:["ã‚Š"], meaning:"razÃ£o / lÃ³gica"},"ç”¨":{readings:["ã‚ˆã†","ã‚‚ã¡"], meaning:"uso"},"ç”°":{readings:["ãŸ","ã§ã‚“"], meaning:"arrozal"},
  "ç”º":{readings:["ã¾ã¡","ã¡ã‚‡ã†"], meaning:"cidade / bairro"},"ç”»":{readings:["ãŒ","ãˆ"], meaning:"desenho / quadro"},"ç•Œ":{readings:["ã‹ã„"], meaning:"mundo / limite"},
  "ç—…":{readings:["ã‚„ã¾ã„","ã³ã‚‡ã†"], meaning:"doenÃ§a"},"ç™º":{readings:["ã¯ã¤","ã¯ã£"], meaning:"partida / emitir"},"çš„":{readings:["ã¦ã"], meaning:"alvo / sufixo -al"},
  "ç›®":{readings:["ã‚","ã‚‚ã"], meaning:"olho"},"çœŸ":{readings:["ã¾","ã—ã‚“"], meaning:"verdadeiro"},"ç€":{readings:["ã","ã¡ã‚ƒã"], meaning:"vestir / chegar"},
  "çŸ¥":{readings:["ã—","ã—ã‚‹"], meaning:"saber / conhecer"},"ç ”":{readings:["ã‘ã‚“","ã¨"], meaning:"pesquisa / polir"},"ç¤¾":{readings:["ã—ã‚ƒ"], meaning:"empresa / sociedade"},
  "ç§":{readings:["ã‚ãŸã—","ã—"], meaning:"eu / privado"},"ç§‹":{readings:["ã‚ã"], meaning:"outono"},"ç©¶":{readings:["ãã‚…ã†"], meaning:"investigar"},
  "ç©º":{readings:["ãã‚‰","ãã†"], meaning:"cÃ©u / vazio"},"ç«‹":{readings:["ãŸ","ã‚Šã¤"], meaning:"ficar em pÃ©"},"ç­”":{readings:["ã“ãŸ","ã¨ã†"], meaning:"responder / resposta"},
  "ç´™":{readings:["ã‹ã¿","ã—"], meaning:"papel"},"çµ‚":{readings:["ãŠ","ã—ã‚…ã†"], meaning:"terminar"},"ç¿’":{readings:["ãªã‚‰","ã—ã‚…ã†"], meaning:"aprender / praticar"},
  "è€ƒ":{readings:["ã‹ã‚“ãŒ","ã“ã†"], meaning:"pensar"},"è€…":{readings:["ã‚‚ã®","ã—ã‚ƒ"], meaning:"pessoa"},"è‚‰":{readings:["ã«ã"], meaning:"carne"},
  "è‡ª":{readings:["ã˜"], meaning:"si mesmo"},"è‰²":{readings:["ã„ã‚","ã—ã‚‡ã"], meaning:"cor"},"èŠ±":{readings:["ã¯ãª","ã‹"], meaning:"flor"},
  "è‹±":{readings:["ãˆã„"], meaning:"inglÃªs"},"èŒ¶":{readings:["ã¡ã‚ƒ","ã•"], meaning:"chÃ¡"},"è¦ª":{readings:["ãŠã‚„","ã—ã‚“"], meaning:"pais / Ã­ntimo"},
  "è¨€":{readings:["ã„","ã’ã‚“"], meaning:"dizer / palavra"},"è¨ˆ":{readings:["ã¯ã‹","ã‘ã„"], meaning:"medir / plano"},"è©¦":{readings:["ãŸã‚","ã—"], meaning:"testar"},
  "è²·":{readings:["ã‹","ã°ã„"], meaning:"comprar"},"è²¸":{readings:["ã‹","ãŸã„"], meaning:"emprestar (dar)"},"è³ª":{readings:["ã—ã¤"], meaning:"qualidade / pergunta"},
  "èµ¤":{readings:["ã‚ã‹","ã›ã"], meaning:"vermelho"},"èµ°":{readings:["ã¯ã—","ãã†"], meaning:"correr"},"èµ·":{readings:["ãŠ","ã"], meaning:"levantar / acontecer"},
  "è¶³":{readings:["ã‚ã—","ãã"], meaning:"pÃ©"},"è»¢":{readings:["ã“ã‚","ã¦ã‚“"], meaning:"girar / cair"},"è¿‘":{readings:["ã¡ã‹","ãã‚“"], meaning:"perto"},
  "é€":{readings:["ãŠã","ãã†"], meaning:"enviar"},"é€š":{readings:["ã¨ãŠ","ã¤ã†"], meaning:"passar / comunicar"},"é€±":{readings:["ã—ã‚…ã†"], meaning:"semana"},
  "é‹":{readings:["ã¯ã“","ã†ã‚“"], meaning:"transportar / sorte"},"é“":{readings:["ã¿ã¡","ã©ã†"], meaning:"caminho"},"é‡":{readings:["ãŠã‚‚","ã˜ã‚…ã†"], meaning:"pesado"},
  "é‡":{readings:["ã®","ã‚„"], meaning:"campo / interior"},"éŠ€":{readings:["ãã‚“"], meaning:"prata"},"é–‹":{readings:["ã‚","ã‹ã„"], meaning:"abrir"},
  "é™¢":{readings:["ã„ã‚“"], meaning:"instituiÃ§Ã£o"},"é›†":{readings:["ã‚ã¤","ã—ã‚…ã†"], meaning:"juntar / reunir"},"é’":{readings:["ã‚ãŠ","ã›ã„"], meaning:"azul / verde"},
  "éŸ³":{readings:["ãŠã¨","ãŠã‚“"], meaning:"som"},"é¡Œ":{readings:["ã ã„"], meaning:"tÃ­tulo / tema"},"é¢¨":{readings:["ã‹ãœ","ãµã†"], meaning:"vento"},
  "é£¯":{readings:["ã‚ã—","ã¯ã‚“"], meaning:"refeiÃ§Ã£o / arroz"},"é£²":{readings:["ã®","ã„ã‚“"], meaning:"beber"},"é¤¨":{readings:["ã‹ã‚“"], meaning:"prÃ©dio / estabelecimento"},
  "é§…":{readings:["ãˆã"], meaning:"estaÃ§Ã£o"},"é¨“":{readings:["ã‘ã‚“"], meaning:"experiÃªncia / teste"},"é­š":{readings:["ã•ã‹ãª","ãã‚‡"], meaning:"peixe"},
  "é³¥":{readings:["ã¨ã‚Š","ã¡ã‚‡ã†"], meaning:"pÃ¡ssaro"},"é»’":{readings:["ãã‚","ã“ã"], meaning:"preto"}
};

function isInfoComplete(k){
  const i = KANJI_INFO[k];
  return !!(i && i.meaning && Array.isArray(i.readings) && i.readings.length && i.readings[0] !== "â€”");
}

/* =========================
   VOCAB DB (3 por kanji) â€” COMPLETO (N5+N4)
   formato: ["palavra","leitura","significado"]
========================= */
const VOCAB_DB = {
  /* N5 */
  "ä¸€":[["ä¸€ã¤","ã²ã¨ã¤","um (objeto)"],["ä¸€äºº","ã²ã¨ã‚Š","uma pessoa / sozinho"],["ä¸€æ—¥","ã„ã¡ã«ã¡","um dia"]],
  "ä¸ƒ":[["ä¸ƒã¤","ãªãªã¤","sete (objetos)"],["ä¸ƒæ™‚","ã—ã¡ã˜","7 horas"],["ä¸ƒæœˆ","ã—ã¡ãŒã¤","julho"]],
  "ä¸‡":[["ä¸€ä¸‡å††","ã„ã¡ã¾ã‚“ãˆã‚“","10.000 ienes"],["ä¸‡å¹´","ã¾ã‚“ã­ã‚“","muitos anos"],["ä¸‡æ­³","ã°ã‚“ã–ã„","viva!"]],
  "ä¸‰":[["ä¸‰ã¤","ã¿ã£ã¤","trÃªs (objetos)"],["ä¸‰äºº","ã•ã‚“ã«ã‚“","trÃªs pessoas"],["ä¸‰æœˆ","ã•ã‚“ãŒã¤","marÃ§o"]],
  "ä¸Š":[["ä¸Šæ‰‹","ã˜ã‚‡ã†ãš","habilidoso"],["ä¸Šç€","ã†ã‚ã","casaco / jaqueta"],["ä¸ŠãŒã‚‹","ã‚ãŒã‚‹","subir"]],
  "ä¸‹":[["ä¸‹æ‰‹","ã¸ãŸ","ruim (habilidade)"],["ä¸‹ç€","ã—ãŸã","roupa Ã­ntima"],["ä¸‹ãŒã‚‹","ã•ãŒã‚‹","descer / baixar"]],
  "ä¸­":[["ä¸­ã«","ãªã‹ã«","dentro"],["ä¸­å­¦æ ¡","ã¡ã‚…ã†ãŒã£ã“ã†","ginÃ¡sio"],["ä¸­å­¦ç”Ÿ","ã¡ã‚…ã†ãŒãã›ã„","aluno do ginÃ¡sio"]],
  "ä¹":[["ä¹ã¤","ã“ã“ã®ã¤","nove (objetos)"],["ä¹æ™‚","ãã˜","9 horas"],["ä¹æœˆ","ããŒã¤","setembro"]],
  "äºŒ":[["äºŒã¤","ãµãŸã¤","dois (objetos)"],["äºŒäºº","ãµãŸã‚Š","duas pessoas"],["äºŒæœˆ","ã«ãŒã¤","fevereiro"]],
  "äº”":[["äº”ã¤","ã„ã¤ã¤","cinco (objetos)"],["äº”æ™‚","ã”ã˜","5 horas"],["äº”æœˆ","ã”ãŒã¤","maio"]],
  "äºº":[["æ—¥æœ¬äºº","ã«ã»ã‚“ã˜ã‚“","japonÃªs (pessoa)"],["ä¸€äºº","ã²ã¨ã‚Š","sozinho"],["äººæ°—","ã«ã‚“ã","popularidade"]],
  "ä»Š":[["ä»Š","ã„ã¾","agora"],["ä»Šé€±","ã“ã‚“ã—ã‚…ã†","esta semana"],["ä»Šæœˆ","ã“ã‚“ã’ã¤","este mÃªs"]],
  "ä¼‘":[["ä¼‘ã¿","ã‚„ã™ã¿","folga / descanso"],["ä¼‘ã‚€","ã‚„ã™ã‚€","descansar"],["å¤ä¼‘ã¿","ãªã¤ã‚„ã™ã¿","fÃ©rias de verÃ£o"]],
  "ä½•":[["ä½•","ãªã«","o quÃª"],["ä½•æ™‚","ãªã‚“ã˜","que horas?"],["ä½•ã‚‚","ãªã«ã‚‚","nada"]],
  "å…ˆ":[["å…ˆç”Ÿ","ã›ã‚“ã›ã„","professor"],["å…ˆé€±","ã›ã‚“ã—ã‚…ã†","semana passada"],["å…ˆã«","ã•ãã«","antes / primeiro"]],
  "å…¥":[["å…¥ã‚‹","ã¯ã„ã‚‹","entrar"],["å…¥å£","ã„ã‚Šãã¡","entrada"],["å…¥å­¦","ã«ã‚…ã†ãŒã","entrar na escola"]],
  "å…«":[["å…«ã¤","ã‚„ã£ã¤","oito (objetos)"],["å…«æ™‚","ã¯ã¡ã˜","8 horas"],["å…«æœˆ","ã¯ã¡ãŒã¤","agosto"]],
  "å…­":[["å…­ã¤","ã‚€ã£ã¤","seis (objetos)"],["å…­æ™‚","ã‚ãã˜","6 horas"],["å…­æœˆ","ã‚ããŒã¤","junho"]],
  "å††":[["å††","ãˆã‚“","iene"],["ç™¾å††","ã²ã‚ƒããˆã‚“","100 ienes"],["åƒå††","ã›ã‚“ãˆã‚“","1000 ienes"]],
  "å‡º":[["å‡ºã‚‹","ã§ã‚‹","sair"],["å‡ºå£","ã§ãã¡","saÃ­da"],["å‡ºã‹ã‘ã‚‹","ã§ã‹ã‘ã‚‹","sair (para algum lugar)"]],
  "åˆ†":[["åˆ†ã‹ã‚‹","ã‚ã‹ã‚‹","entender"],["è‡ªåˆ†","ã˜ã¶ã‚“","eu mesmo"],["ååˆ†","ã˜ã‚…ã£ã·ã‚“","10 minutos"]],
  "å‰":[["å‰","ã¾ãˆ","antes / frente"],["åˆå‰","ã”ãœã‚“","a.m. / de manhÃ£"],["åå‰","ãªã¾ãˆ","nome"]],
  "åŒ—":[["åŒ—","ããŸ","norte"],["åŒ—å£","ããŸãã¡","saÃ­da norte"],["åŒ—æµ·é“","ã»ã£ã‹ã„ã©ã†","Hokkaido"]],
  "å":[["å","ã˜ã‚…ã†","dez"],["åæ—¥","ã¨ãŠã‹","dia 10 / 10 dias"],["åæ™‚","ã˜ã‚…ã†ã˜","10 horas"]],
  "åƒ":[["åƒ","ã›ã‚“","mil"],["åƒå††","ã›ã‚“ãˆã‚“","1000 ienes"],["åƒè‘‰","ã¡ã°","Chiba"]],
  "åˆ":[["åˆå‰","ã”ãœã‚“","a.m."],["åˆå¾Œ","ã”ã”","p.m."],["æ­£åˆ","ã—ã‚‡ã†ã”","meio-dia"]],
  "åŠ":[["åŠåˆ†","ã¯ã‚“ã¶ã‚“","metade"],["ä¸€æ™‚åŠ","ã„ã¡ã˜ã¯ã‚“","1:30"],["åŠå¹´","ã¯ã‚“ã¨ã—","meio ano"]],
  "å—":[["å—","ã¿ãªã¿","sul"],["å—å£","ã¿ãªã¿ãã¡","saÃ­da sul"],["å—ç±³","ãªã‚“ã¹ã„","AmÃ©rica do Sul"]],
  "å‹":[["å‹é”","ã¨ã‚‚ã ã¡","amigo"],["å‹äºº","ã‚†ã†ã˜ã‚“","amigo (formal)"],["è¦ªå‹","ã—ã‚“ã‚†ã†","melhor amigo"]],
  "å³":[["å³","ã¿ã","direita"],["å³æ‰‹","ã¿ãã¦","mÃ£o direita"],["å·¦å³","ã•ã‚†ã†","esquerda e direita"]],
  "å":[["åå‰","ãªã¾ãˆ","nome"],["æœ‰å","ã‚†ã†ã‚ã„","famoso"],["åå­—","ã¿ã‚‡ã†ã˜","sobrenome"]],
  "å››":[["å››ã¤","ã‚ˆã£ã¤","quatro (objetos)"],["å››æœˆ","ã—ãŒã¤","abril"],["å››æ™‚","ã‚ˆã˜","4 horas"]],
  "å›½":[["å›½","ãã«","paÃ­s"],["å¤–å›½","ãŒã„ã“ã","exterior"],["ä¸­å›½","ã¡ã‚…ã†ã”ã","China"]],
  "åœŸ":[["åœŸ","ã¤ã¡","terra / solo"],["åœŸæ›œæ—¥","ã©ã‚ˆã†ã³","sÃ¡bado"],["åœŸåœ°","ã¨ã¡","terreno"]],
  "å¤–":[["å¤–","ãã¨","fora"],["å¤–å›½","ãŒã„ã“ã","exterior"],["å¤–å‡º","ãŒã„ã—ã‚…ã¤","sair (de casa)"]],
  "å¤§":[["å¤§ãã„","ãŠãŠãã„","grande"],["å¤§å­¦","ã ã„ãŒã","universidade"],["å¤§ä¸ˆå¤«","ã ã„ã˜ã‚‡ã†ã¶","tudo bem"]],
  "å¤©":[["å¤©æ°—","ã¦ã‚“ã","clima"],["å¤©å›½","ã¦ã‚“ã”ã","paraÃ­so"],["å¤©äº•","ã¦ã‚“ã˜ã‚‡ã†","teto"]],
  "å¥³":[["å¥³","ãŠã‚“ãª","mulher"],["å¥³ã®å­","ãŠã‚“ãªã®ã“","menina"],["å½¼å¥³","ã‹ã®ã˜ã‚‡","namorada / ela"]],
  "å­":[["å­ã©ã‚‚","ã“ã©ã‚‚","crianÃ§a"],["ç”·ã®å­","ãŠã¨ã“ã®ã“","menino"],["å¥³ã®å­","ãŠã‚“ãªã®ã“","menina"]],
  "å­¦":[["å­¦æ ¡","ãŒã£ã“ã†","escola"],["å­¦ç”Ÿ","ãŒãã›ã„","estudante"],["å­¦ã¶","ã¾ãªã¶","aprender"]],
  "å°":[["å°ã•ã„","ã¡ã„ã•ã„","pequeno"],["å°å­¦æ ¡","ã—ã‚‡ã†ãŒã£ã“ã†","escola primÃ¡ria"],["å°‘ã—","ã™ã“ã—","um pouco"]],
  "å±±":[["å±±","ã‚„ã¾","montanha"],["ç«å±±","ã‹ã–ã‚“","vulcÃ£o"],["å±±ç™»ã‚Š","ã‚„ã¾ã®ã¼ã‚Š","subir montanha"]],
  "å·":[["å·","ã‹ã‚","rio"],["å°å·","ãŠãŒã‚","riacho"],["å·è¾º","ã‹ã‚ã¹","beira do rio"]],
  "å·¦":[["å·¦","ã²ã ã‚Š","esquerda"],["å·¦æ‰‹","ã²ã ã‚Šã¦","mÃ£o esquerda"],["å·¦å³","ã•ã‚†ã†","esquerda e direita"]],
  "å¹´":[["ä»Šå¹´","ã“ã¨ã—","este ano"],["æ¥å¹´","ã‚‰ã„ã­ã‚“","ano que vem"],["æ¯å¹´","ã¾ã„ã¨ã—","todo ano"]],
  "å¾Œ":[["å¾Œã‚","ã†ã—ã‚","atrÃ¡s"],["åˆå¾Œ","ã”ã”","p.m."],["æœ€å¾Œ","ã•ã„ã”","final"]],
  "æ—¥":[["æ—¥æœ¬","ã«ã»ã‚“","JapÃ£o"],["æ¯æ—¥","ã¾ã„ã«ã¡","todo dia"],["æ—¥æ›œæ—¥","ã«ã¡ã‚ˆã†ã³","domingo"]],
  "æ™‚":[["æ™‚é–“","ã˜ã‹ã‚“","tempo / horas"],["ä½•æ™‚","ãªã‚“ã˜","que horas?"],["ä¸€æ™‚","ã„ã¡ã˜","1 hora"]],
  "æ›¸":[["æ›¸ã","ã‹ã","escrever"],["æ•™ç§‘æ›¸","ãã‚‡ã†ã‹ã—ã‚‡","livro didÃ¡tico"],["èª­æ›¸","ã©ãã—ã‚‡","leitura (hÃ¡bito)"]],
  "æœˆ":[["æœˆ","ã¤ã","lua"],["æ¥æœˆ","ã‚‰ã„ã’ã¤","mÃªs que vem"],["æœˆæ›œæ—¥","ã’ã¤ã‚ˆã†ã³","segunda-feira"]],
  "æœ¨":[["æœ¨","ã","Ã¡rvore"],["æœ¨æ›œæ—¥","ã‚‚ãã‚ˆã†ã³","quinta-feira"],["æœ¨ã®ä¸‹","ãã®ã—ãŸ","debaixo da Ã¡rvore"]],
  "æœ¬":[["æœ¬","ã»ã‚“","livro"],["æ—¥æœ¬","ã«ã»ã‚“","JapÃ£o"],["æœ¬å½“","ã»ã‚“ã¨ã†","verdade / sÃ©rio"]],
  "æ¥":[["æ¥ã‚‹","ãã‚‹","vir"],["æ¥é€±","ã‚‰ã„ã—ã‚…ã†","semana que vem"],["æ¥å¹´","ã‚‰ã„ã­ã‚“","ano que vem"]],
  "æ±":[["æ±äº¬","ã¨ã†ãã‚‡ã†","TÃ³quio"],["æ±å£","ã²ãŒã—ãã¡","saÃ­da leste"],["æ±","ã²ãŒã—","leste"]],
  "æ ¡":[["å­¦æ ¡","ãŒã£ã“ã†","escola"],["é«˜æ ¡","ã“ã†ã“ã†","ensino mÃ©dio"],["æ ¡é•·","ã“ã†ã¡ã‚‡ã†","diretor (da escola)"]],
  "æ¯":[["æ¯","ã¯ã¯","minha mÃ£e"],["ãŠæ¯ã•ã‚“","ãŠã‹ã‚ã•ã‚“","mÃ£e"],["æ¯ã®æ—¥","ã¯ã¯ã®ã²","dia das mÃ£es"]],
  "æ¯":[["æ¯æ—¥","ã¾ã„ã«ã¡","todo dia"],["æ¯é€±","ã¾ã„ã—ã‚…ã†","toda semana"],["æ¯æœˆ","ã¾ã„ã¤ã","todo mÃªs"]],
  "æ°—":[["å…ƒæ°—","ã’ã‚“ã","bem / animado"],["å¤©æ°—","ã¦ã‚“ã","clima"],["æ°—æŒã¡","ãã‚‚ã¡","sentimento"]],
  "æ°´":[["æ°´","ã¿ãš","Ã¡gua"],["æ°´æ›œæ—¥","ã™ã„ã‚ˆã†ã³","quarta-feira"],["æ°´é“","ã™ã„ã©ã†","Ã¡gua encanada"]],
  "ç«":[["ç«","ã²","fogo"],["ç«æ›œæ—¥","ã‹ã‚ˆã†ã³","terÃ§a-feira"],["ç«äº‹","ã‹ã˜","incÃªndio"]],
  "çˆ¶":[["çˆ¶","ã¡ã¡","meu pai"],["ãŠçˆ¶ã•ã‚“","ãŠã¨ã†ã•ã‚“","pai"],["çˆ¶æ¯","ãµã¼","pais (pai e mÃ£e)"]],
  "ç”Ÿ":[["ç”Ÿã¾ã‚Œã‚‹","ã†ã¾ã‚Œã‚‹","nascer"],["ç”Ÿãã‚‹","ã„ãã‚‹","viver"],["å­¦ç”Ÿ","ãŒãã›ã„","estudante"]],
  "ç”·":[["ç”·","ãŠã¨ã“","homem"],["ç”·ã®å­","ãŠã¨ã“ã®ã“","menino"],["ç”·æ€§","ã ã‚“ã›ã„","homem (formal)"]],
  "ç™½":[["ç™½ã„","ã—ã‚ã„","branco"],["ç™½é»’","ã—ã‚ãã‚","preto e branco"],["çœŸã£ç™½","ã¾ã£ã—ã‚","branco puro"]],
  "ç™¾":[["ç™¾","ã²ã‚ƒã","cem"],["ç™¾å††","ã²ã‚ƒããˆã‚“","100 ienes"],["ä¸‰ç™¾","ã•ã‚“ã³ã‚ƒã","300"]],
  "è":[["èã","ãã","ouvir / perguntar"],["èã“ãˆã‚‹","ãã“ãˆã‚‹","dar pra ouvir"],["æ–°è","ã—ã‚“ã¶ã‚“","jornal"]],
  "è¡Œ":[["è¡Œã","ã„ã","ir"],["éŠ€è¡Œ","ãã‚“ã“ã†","banco"],["æ—…è¡Œ","ã‚Šã‚‡ã“ã†","viagem"]],
  "è¥¿":[["è¥¿","ã«ã—","oeste"],["è¥¿å£","ã«ã—ãã¡","saÃ­da oeste"],["è¥¿æ—¥æœ¬","ã«ã—ã«ã»ã‚“","oeste do JapÃ£o"]],
  "è¦‹":[["è¦‹ã‚‹","ã¿ã‚‹","ver"],["è¦‹ãˆã‚‹","ã¿ãˆã‚‹","ser visÃ­vel"],["æ„è¦‹","ã„ã‘ã‚“","opiniÃ£o"]],
  "è©±":[["è©±ã™","ã¯ãªã™","falar"],["é›»è©±","ã§ã‚“ã‚","telefone"],["ä¼šè©±","ã‹ã„ã‚","conversa"]],
  "èª":[["æ—¥æœ¬èª","ã«ã»ã‚“ã”","japonÃªs (idioma)"],["è‹±èª","ãˆã„ã”","inglÃªs"],["å¤–å›½èª","ãŒã„ã“ãã”","lÃ­ngua estrangeira"]],
  "èª­":[["èª­ã‚€","ã‚ˆã‚€","ler"],["èª­æ›¸","ã©ãã—ã‚‡","leitura"],["èª­ã¿æ–¹","ã‚ˆã¿ã‹ãŸ","como ler"]],
  "è»Š":[["è»Š","ãã‚‹ã¾","carro"],["é›»è»Š","ã§ã‚“ã—ã‚ƒ","trem"],["é§è»Šå ´","ã¡ã‚…ã†ã—ã‚ƒã˜ã‚‡ã†","estacionamento"]],
  "é‡‘":[["ãŠé‡‘","ãŠã‹ã­","dinheiro"],["é‡‘æ›œæ—¥","ãã‚“ã‚ˆã†ã³","sexta-feira"],["æ–™é‡‘","ã‚Šã‚‡ã†ãã‚“","tarifa"]],
  "é•·":[["é•·ã„","ãªãŒã„","longo"],["ç¤¾é•·","ã—ã‚ƒã¡ã‚‡ã†","presidente (empresa)"],["æ ¡é•·","ã“ã†ã¡ã‚‡ã†","diretor"]],
  "é–“":[["æ™‚é–“","ã˜ã‹ã‚“","tempo"],["é–“ã«åˆã†","ã¾ã«ã‚ã†","dar tempo / chegar a tempo"],["äººé–“","ã«ã‚“ã’ã‚“","ser humano"]],
  "é›¨":[["é›¨","ã‚ã‚","chuva"],["é›¨ã®æ—¥","ã‚ã‚ã®ã²","dia de chuva"],["é›¨ãŒé™ã‚‹","ã‚ã‚ãŒãµã‚‹","chover"]],
  "é›»":[["é›»æ°—","ã§ã‚“ã","eletricidade"],["é›»è©±","ã§ã‚“ã‚","telefone"],["é›»è»Š","ã§ã‚“ã—ã‚ƒ","trem"]],
  "é£Ÿ":[["é£Ÿã¹ã‚‹","ãŸã¹ã‚‹","comer"],["é£Ÿäº‹","ã—ã‚‡ãã˜","refeiÃ§Ã£o"],["æœé£Ÿ","ã¡ã‚‡ã†ã—ã‚‡ã","cafÃ© da manhÃ£"]],
  "é«˜":[["é«˜ã„","ãŸã‹ã„","alto / caro"],["é«˜æ ¡","ã“ã†ã“ã†","ensino mÃ©dio"],["æœ€é«˜","ã•ã„ã“ã†","o melhor"]],

  /* N4 */
  "ä¸":[["ä¸å®‰","ãµã‚ã‚“","ansiedade / inseguranÃ§a"],["ä¸ä¾¿","ãµã¹ã‚“","inconveniente"],["ä¸æ€è­°","ãµã—ã","estranho / misterioso"]],
  "ä¸–":[["ä¸–ç•Œ","ã›ã‹ã„","mundo"],["ä¸–è©±","ã›ã‚","cuidado / ajuda"],["ä¸–ã®ä¸­","ã‚ˆã®ãªã‹","a sociedade"]],
  "ä¸»":[["ä¸»äºº","ã—ã‚…ã˜ã‚“","marido / dono"],["ä¸»ã«","ãŠã‚‚ã«","principalmente"],["ä¸»å½¹","ã—ã‚…ã‚„ã","protagonista"]],
  "äº‹":[["ä»•äº‹","ã—ã”ã¨","trabalho"],["ç”¨äº‹","ã‚ˆã†ã˜","assunto a resolver"],["å¤§äº‹","ã ã„ã˜","importante"]],
  "äº¬":[["æ±äº¬","ã¨ã†ãã‚‡ã†","TÃ³quio"],["äº¬éƒ½","ãã‚‡ã†ã¨","Kyoto"],["ä¸Šäº¬","ã˜ã‚‡ã†ãã‚‡ã†","ir para a capital"]],
  "ä»•":[["ä»•äº‹","ã—ã”ã¨","trabalho"],["ä»•æ–¹","ã—ã‹ãŸ","jeito / modo"],["ä»•ä¸Šã’ã‚‹","ã—ã‚ã’ã‚‹","finalizar (um trabalho)"]],
  "ä»£":[["æ™‚ä»£","ã˜ã ã„","era"],["ä»£ã‚ã‚Š","ã‹ã‚ã‚Š","substituto / em vez de"],["ä»£è¡¨","ã ã„ã²ã‚‡ã†","representante"]],
  "ä»¥":[["ä»¥ä¸Š","ã„ã˜ã‚‡ã†","acima / mais que"],["ä»¥å†…","ã„ãªã„","dentro de"],["ä»¥å¤–","ã„ãŒã„","exceto"]],
  "ä¼š":[["ä¼šç¤¾","ã‹ã„ã—ã‚ƒ","empresa"],["ä¼šã†","ã‚ã†","encontrar"],["ä¼šè­°","ã‹ã„ã","reuniÃ£o"]],
  "ä½":[["ä½ã‚€","ã™ã‚€","morar"],["ä½æ‰€","ã˜ã‚…ã†ã—ã‚‡","endereÃ§o"],["ä½æ°‘","ã˜ã‚…ã†ã¿ã‚“","moradores"]],
  "ä½“":[["ä½“","ã‹ã‚‰ã ","corpo"],["ä½“é‡","ãŸã„ã˜ã‚…ã†","peso corporal"],["å…¨ä½“","ãœã‚“ãŸã„","o todo / geral"]],
  "ä½œ":[["ä½œã‚‹","ã¤ãã‚‹","fazer / criar"],["ä½œæ–‡","ã•ãã¶ã‚“","redaÃ§Ã£o"],["ä½œå“","ã•ãã²ã‚“","obra / trabalho"]],
  "ä½¿":[["ä½¿ã†","ã¤ã‹ã†","usar"],["ä½¿ãˆã‚‹","ã¤ã‹ãˆã‚‹","poder usar / ser utilizÃ¡vel"],["ä½¿ã„æ–¹","ã¤ã‹ã„ã‹ãŸ","modo de usar"]],
  "å€Ÿ":[["å€Ÿã‚Šã‚‹","ã‹ã‚Šã‚‹","pegar emprestado"],["å€Ÿé‡‘","ã—ã‚ƒã£ãã‚“","dÃ­vida"],["å€Ÿã‚Šã‚‹","ã‹ã‚Šã‚‹","alugar / pegar emprestado"]],
  "å…ƒ":[["å…ƒæ°—","ã’ã‚“ã","bem / saudÃ¡vel"],["å…ƒã€…","ã‚‚ã¨ã‚‚ã¨","originalmente"],["å…ƒã®","ã‚‚ã¨ã®","de antes"]],
  "å…„":[["å…„","ã‚ã«","irmÃ£o mais velho"],["ãŠå…„ã•ã‚“","ãŠã«ã„ã•ã‚“","irmÃ£o (educado)"],["å…„å¼Ÿ","ãã‚‡ã†ã ã„","irmÃ£os"]],
  "å…¬":[["å…¬åœ’","ã“ã†ãˆã‚“","parque"],["å…¬å…±","ã“ã†ãã‚‡ã†","pÃºblico (serviÃ§o)"],["å…¬å¹³","ã“ã†ã¸ã„","justo / imparcial"]],
  "å†™":[["å†™çœŸ","ã—ã‚ƒã—ã‚“","foto"],["å†™ã™","ã†ã¤ã™","copiar / fotografar"],["å†™ã‚‹","ã†ã¤ã‚‹","aparecer na foto"]],
  "å†¬":[["å†¬","ãµã‚†","inverno"],["å†¬ä¼‘ã¿","ãµã‚†ã‚„ã™ã¿","fÃ©rias de inverno"],["å†¬æœ","ãµã‚†ãµã","roupa de inverno"]],
  "åˆ‡":[["åˆ‡ã‚‹","ãã‚‹","cortar"],["åˆ‡æ‰‹","ãã£ã¦","selo"],["å¤§åˆ‡","ãŸã„ã›ã¤","importante"]],
  "åˆ¥":[["åˆ¥ã‚Œã‚‹","ã‚ã‹ã‚Œã‚‹","se separar"],["åˆ¥ã€…","ã¹ã¤ã¹ã¤","separadamente"],["ç‰¹åˆ¥","ã¨ãã¹ã¤","especial"]],
  "åŠ›":[["åŠ›","ã¡ã‹ã‚‰","forÃ§a"],["åŠªåŠ›","ã©ã‚Šã‚‡ã","esforÃ§o"],["ä½“åŠ›","ãŸã„ã‚Šã‚‡ã","condicionamento"]],
  "å‹‰":[["å‹‰å¼·","ã¹ã‚“ãã‚‡ã†","estudo"],["å‹‰å¼·ã™ã‚‹","ã¹ã‚“ãã‚‡ã†ã™ã‚‹","estudar"],["å‹‰å¼·ä¸­","ã¹ã‚“ãã‚‡ã†ã¡ã‚…ã†","estudando"]],
  "å‹•":[["å‹•ã","ã†ã”ã","mover"],["å‹•ç‰©","ã©ã†ã¶ã¤","animal"],["é‹å‹•","ã†ã‚“ã©ã†","exercÃ­cio"]],
  "åŒ»":[["åŒ»è€…","ã„ã—ã‚ƒ","mÃ©dico"],["åŒ»å­¦","ã„ãŒã","medicina (Ã¡rea)"],["åŒ»é™¢","ã„ã„ã‚“","clÃ­nica"]],
  "å»":[["å»å¹´","ãã‚‡ã­ã‚“","ano passado"],["éå»","ã‹ã“","passado"],["å»ã‚‹","ã•ã‚‹","ir embora / passar"]],
  "å£":[["å…¥å£","ã„ã‚Šãã¡","entrada"],["å‡ºå£","ã§ãã¡","saÃ­da"],["äººå£","ã˜ã‚“ã“ã†","populaÃ§Ã£o"]],
  "å¤":[["å¤ã„","ãµã‚‹ã„","antigo"],["ä¸­å¤","ã¡ã‚…ã†ã“","usado (produto)"],["å¤æœ¬","ãµã‚‹ã»ã‚“","livro usado"]],
  "å°":[["å°æ‰€","ã ã„ã©ã“ã‚","cozinha"],["å°é¢¨","ãŸã„ãµã†","tufÃ£o"],["ä¸€å°","ã„ã¡ã ã„","1 unidade (mÃ¡quina/veÃ­culo)"]],
  "åŒ":[["åŒã˜","ãŠãªã˜","igual"],["åŒæ™‚","ã©ã†ã˜","ao mesmo tempo"],["åŒæ„","ã©ã†ã„","consentimento"]],
  "å‘³":[["å‘³","ã‚ã˜","sabor"],["æ„å‘³","ã„ã¿","significado"],["è¶£å‘³","ã—ã‚…ã¿","hobby"]],
  "å“":[["å•†å“","ã—ã‚‡ã†ã²ã‚“","produto (loja)"],["å“ç‰©","ã—ãªã‚‚ã®","mercadoria"],["éƒ¨å“","ã¶ã²ã‚“","peÃ§a (componente)"]],
  "å“¡":[["åº—å“¡","ã¦ã‚“ã„ã‚“","funcionÃ¡rio (loja)"],["ç¤¾å“¡","ã—ã‚ƒã„ã‚“","empregado"],["éŠ€è¡Œå“¡","ãã‚“ã“ã†ã„ã‚“","bancÃ¡rio"]],
  "å•":[["å•é¡Œ","ã‚‚ã‚“ã ã„","problema / questÃ£o"],["è³ªå•","ã—ã¤ã‚‚ã‚“","pergunta"],["å•ã„åˆã‚ã›","ã¨ã„ã‚ã‚ã›","consulta / contato"]],
  "å›³":[["åœ°å›³","ã¡ãš","mapa"],["å›³æ›¸é¤¨","ã¨ã—ã‚‡ã‹ã‚“","biblioteca"],["åˆå›³","ã‚ã„ãš","sinal"]],
  "åœ°":[["åœ°ä¸‹é‰„","ã¡ã‹ã¦ã¤","metrÃ´"],["åœ°å…ƒ","ã˜ã‚‚ã¨","regiÃ£o natal"],["åœ°çƒ","ã¡ãã‚…ã†","Terra (planeta)"]],
  "å ‚":[["é£Ÿå ‚","ã—ã‚‡ãã©ã†","refeitÃ³rio"],["æœ¬å ‚","ã»ã‚“ã©ã†","salÃ£o principal (templo)"],["è¬›å ‚","ã“ã†ã©ã†","auditÃ³rio"]],
  "å ´":[["å ´æ‰€","ã°ã—ã‚‡","lugar"],["å ´åˆ","ã°ã‚ã„","no caso de"],["å·¥å ´","ã“ã†ã˜ã‚‡ã†","fÃ¡brica"]],
  "å£²":[["å£²ã‚‹","ã†ã‚‹","vender"],["å£²ã‚Šå ´","ã†ã‚Šã°","seÃ§Ã£o (loja)"],["å£²åº—","ã°ã„ã¦ã‚“","quiosque"]],
  "å¤":[["å¤","ãªã¤","verÃ£o"],["å¤ä¼‘ã¿","ãªã¤ã‚„ã™ã¿","fÃ©rias de verÃ£o"],["å¤æœ","ãªã¤ãµã","roupa de verÃ£o"]],
  "å¤•":[["å¤•æ–¹","ã‚†ã†ãŒãŸ","fim de tarde"],["å¤•é£Ÿ","ã‚†ã†ã—ã‚‡ã","jantar"],["å¤•æ—¥","ã‚†ã†ã²","pÃ´r do sol"]],
  "å¤š":[["å¤šã„","ãŠãŠã„","muitos"],["å¤šåˆ†","ãŸã¶ã‚“","talvez"],["å¤šæ•°","ãŸã™ã†","grande nÃºmero"]],
  "å¤œ":[["å¤œ","ã‚ˆã‚‹","noite"],["ä»Šå¤œ","ã“ã‚“ã‚„","esta noite"],["å¤œä¸­","ã‚ˆãªã‹","madrugada"]],
  "å¦¹":[["å¦¹","ã„ã‚‚ã†ã¨","irmÃ£ mais nova"],["å§‰å¦¹","ã—ã¾ã„","irmÃ£s"],["å¦¹ã•ã‚“","ã„ã‚‚ã†ã¨ã•ã‚“","sua irmÃ£ mais nova"]],
  "å§‰":[["å§‰","ã‚ã­","irmÃ£ mais velha"],["ãŠå§‰ã•ã‚“","ãŠã­ãˆã•ã‚“","irmÃ£ / moÃ§a"],["å§‰å¦¹","ã—ã¾ã„","irmÃ£s"]],
  "å§‹":[["å§‹ã‚ã‚‹","ã¯ã˜ã‚ã‚‹","comeÃ§ar (algo)"],["å§‹ã¾ã‚‹","ã¯ã˜ã¾ã‚‹","comeÃ§ar (iniciar)"],["é–‹å§‹","ã‹ã„ã—","inÃ­cio"]],
  "å­—":[["æ¼¢å­—","ã‹ã‚“ã˜","kanji"],["æ–‡å­—","ã‚‚ã˜","letra / caractere"],["å­—","ã˜","caractere"]],
  "å®‰":[["å®‰ã„","ã‚„ã™ã„","barato"],["å®‰å¿ƒ","ã‚ã‚“ã—ã‚“","alÃ­vio / seguro"],["å®‰å…¨","ã‚ã‚“ãœã‚“","seguranÃ§a"]],
  "å®¤":[["æ•™å®¤","ãã‚‡ã†ã—ã¤","sala de aula"],["å¯å®¤","ã—ã‚“ã—ã¤","quarto"],["ç ”ç©¶å®¤","ã‘ã‚“ãã‚…ã†ã—ã¤","laboratÃ³rio"]],
  "å®¶":[["å®¶","ã„ãˆ","casa"],["å®¶æ—","ã‹ãã","famÃ­lia"],["å®¶åº­","ã‹ã¦ã„","lar"]],
  "å°‘":[["å°‘ã—","ã™ã“ã—","um pouco"],["å°‘ãªã„","ã™ããªã„","pouco (quantidade)"],["å°‘å¹´","ã—ã‚‡ã†ã­ã‚“","garoto"]],
  "å±‹":[["éƒ¨å±‹","ã¸ã‚„","quarto"],["æœ¬å±‹","ã»ã‚“ã‚„","livraria"],["èŠ±å±‹","ã¯ãªã‚„","floricultura"]],
  "å·¥":[["å·¥å ´","ã“ã†ã˜ã‚‡ã†","fÃ¡brica"],["å·¥äº‹","ã“ã†ã˜","obra (construÃ§Ã£o)"],["å·¥æ¥­","ã“ã†ãã‚‡ã†","indÃºstria"]],
  "å¸°":[["å¸°ã‚‹","ã‹ãˆã‚‹","voltar"],["å¸°å›½","ãã“ã","retornar ao paÃ­s"],["å¸°ã‚Š","ã‹ãˆã‚Š","volta"]],
  "åºƒ":[["åºƒã„","ã²ã‚ã„","amplo"],["åºƒå‘Š","ã“ã†ã“ã","propaganda"],["åºƒå ´","ã²ã‚ã°","praÃ§a"]],
  "åº—":[["åº—","ã¿ã›","loja"],["åº—å“¡","ã¦ã‚“ã„ã‚“","funcionÃ¡rio"],["å–«èŒ¶åº—","ãã£ã•ã¦ã‚“","cafeteria"]],
  "åº¦":[["ä¸€åº¦","ã„ã¡ã©","uma vez"],["ä»Šåº¦","ã“ã‚“ã©","da prÃ³xima vez"],["æ¸©åº¦","ãŠã‚“ã©","temperatura"]],
  "å»º":[["å»ºã¦ã‚‹","ãŸã¦ã‚‹","construir"],["å»ºç‰©","ãŸã¦ã‚‚ã®","prÃ©dio"],["å»ºè¨­","ã‘ã‚“ã›ã¤","construÃ§Ã£o"]],
  "å¼Ÿ":[["å¼Ÿ","ãŠã¨ã†ã¨","irmÃ£o mais novo"],["å…„å¼Ÿ","ãã‚‡ã†ã ã„","irmÃ£os"],["å¼Ÿã•ã‚“","ãŠã¨ã†ã¨ã•ã‚“","seu irmÃ£o mais novo"]],
  "å¼·":[["å¼·ã„","ã¤ã‚ˆã„","forte"],["å¼·é¢¨","ãã‚‡ã†ãµã†","vento forte"],["å‹‰å¼·","ã¹ã‚“ãã‚‡ã†","estudo"]],
  "å¾…":[["å¾…ã¤","ã¾ã¤","esperar"],["å¾…ã¡åˆã‚ã›","ã¾ã¡ã‚ã‚ã›","encontro marcado"],["æœŸå¾…","ããŸã„","expectativa"]],
  "å¿ƒ":[["å¿ƒ","ã“ã“ã‚","coraÃ§Ã£o / mente"],["å¿ƒé…","ã—ã‚“ã±ã„","preocupaÃ§Ã£o"],["å®‰å¿ƒ","ã‚ã‚“ã—ã‚“","alÃ­vio"]],
  "æ€":[["æ€ã†","ãŠã‚‚ã†","pensar / achar"],["æ€ã„å‡º","ãŠã‚‚ã„ã§","lembranÃ§a"],["æ€ã„","ãŠã‚‚ã„","sentimento"]],
  "æ€¥":[["æ€¥ã","ã„ãã","apressar"],["æ€¥ã«","ãã‚…ã†ã«","de repente"],["æ€¥è¡Œ","ãã‚…ã†ã“ã†","expresso"]],
  "æ‚ª":[["æ‚ªã„","ã‚ã‚‹ã„","ruim"],["æ‚ªå£","ã‚ã‚‹ãã¡","falar mal"],["æœ€æ‚ª","ã•ã„ã‚ã","pÃ©ssimo"]],
  "æ„":[["æ„å‘³","ã„ã¿","significado"],["æ³¨æ„","ã¡ã‚…ã†ã„","atenÃ§Ã£o"],["æ„è¦‹","ã„ã‘ã‚“","opiniÃ£o"]],
  "æ‰‹":[["æ‰‹","ã¦","mÃ£o"],["æ‰‹ç´™","ã¦ãŒã¿","carta"],["ä¸Šæ‰‹","ã˜ã‚‡ã†ãš","habilidoso"]],
  "æŒ":[["æŒã¤","ã‚‚ã¤","segurar / ter"],["æŒã¡ç‰©","ã‚‚ã¡ã‚‚ã®","pertences"],["æŒã£ã¦è¡Œã","ã‚‚ã£ã¦ã„ã","levar"]],
  "æ•™":[["æ•™ãˆã‚‹","ãŠã—ãˆã‚‹","ensinar"],["æ•™å®¤","ãã‚‡ã†ã—ã¤","sala de aula"],["æ•™ç§‘æ›¸","ãã‚‡ã†ã‹ã—ã‚‡","livro didÃ¡tico"]],
  "æ–‡":[["æ–‡æ³•","ã¶ã‚“ã½ã†","gramÃ¡tica"],["æ–‡ç« ","ã¶ã‚“ã—ã‚‡ã†","texto"],["ä½œæ–‡","ã•ãã¶ã‚“","redaÃ§Ã£o"]],
  "æ–™":[["æ–™ç†","ã‚Šã‚‡ã†ã‚Š","cozinha / prato"],["æ–™é‡‘","ã‚Šã‚‡ã†ãã‚“","tarifa"],["è³‡æ–™","ã—ã‚Šã‚‡ã†","material / dados"]],
  "æ–°":[["æ–°ã—ã„","ã‚ãŸã‚‰ã—ã„","novo"],["æ–°è","ã—ã‚“ã¶ã‚“","jornal"],["æ–°å¹´","ã—ã‚“ã­ã‚“","ano novo"]],
  "æ–¹":[["æ–¹æ³•","ã»ã†ã»ã†","mÃ©todo"],["ã€œã®æ–¹","ã€œã®ã»ã†","lado de / direÃ§Ã£o"],["å¤•æ–¹","ã‚†ã†ãŒãŸ","fim de tarde"]],
  "æ—…":[["æ—…è¡Œ","ã‚Šã‚‡ã“ã†","viagem"],["æ—…é¤¨","ã‚Šã‚‡ã‹ã‚“","ryokan (pousada)"],["æ—…","ãŸã³","jornada"]],
  "æ—":[["å®¶æ—","ã‹ãã","famÃ­lia"],["è¦ªæ—","ã—ã‚“ãã","parentes"],["æ°‘æ—","ã¿ã‚“ãã","povo / etnia"]],
  "æ—©":[["æ—©ã„","ã¯ã‚„ã„","cedo / rÃ¡pido"],["æ—©ã","ã¯ã‚„ã","rÃ¡pido"],["æ—©èµ·ã","ã¯ã‚„ãŠã","acordar cedo"]],
  "æ˜":[["æ˜ã‚‹ã„","ã‚ã‹ã‚‹ã„","claro / alegre"],["èª¬æ˜","ã›ã¤ã‚ã„","explicaÃ§Ã£o"],["æ˜æ—¥","ã‚ã—ãŸ","amanhÃ£"]],
  "æ˜ ":[["æ˜ ç”»","ãˆã„ãŒ","filme"],["æ˜ ã‚‹","ã†ã¤ã‚‹","aparecer / refletir"],["æ˜ ã™","ã†ã¤ã™","projetar"]],
  "æ˜¥":[["æ˜¥","ã¯ã‚‹","primavera"],["æ˜¥ä¼‘ã¿","ã¯ã‚‹ã‚„ã™ã¿","fÃ©rias de primavera"],["æ˜¥é¢¨","ã¯ã‚‹ã‹ãœ","brisa da primavera"]],
  "æ˜¼":[["æ˜¼","ã²ã‚‹","meio-dia / dia"],["æ˜¼ã”é£¯","ã²ã‚‹ã”ã¯ã‚“","almoÃ§o"],["æ˜¼ä¼‘ã¿","ã²ã‚‹ã‚„ã™ã¿","intervalo do almoÃ§o"]],
  "æ›œ":[["æ›œæ—¥","ã‚ˆã†ã³","dia da semana"],["ä½•æ›œæ—¥","ãªã‚“ã‚ˆã†ã³","que dia da semana?"],["æœˆæ›œæ—¥","ã’ã¤ã‚ˆã†ã³","segunda-feira"]],
  "æœ‰":[["æœ‰å","ã‚†ã†ã‚ã„","famoso"],["æœ‰æ–™","ã‚†ã†ã‚Šã‚‡ã†","pago"],["æœ‰ã‚‹","ã‚ã‚‹","existir / ter"]],
  "æœ":[["æœ","ãµã","roupa"],["æ´‹æœ","ã‚ˆã†ãµã","roupa (ocidental)"],["åˆ¶æœ","ã›ã„ãµã","uniforme"]],
  "æœ":[["æœ","ã‚ã•","manhÃ£"],["æœã”é£¯","ã‚ã•ã”ã¯ã‚“","cafÃ© da manhÃ£"],["æœæ—¥","ã‚ã•ã²","sol da manhÃ£"]],
  "æ¥­":[["æˆæ¥­","ã˜ã‚…ãã‚‡ã†","aula"],["å–¶æ¥­","ãˆã„ãã‚‡ã†","negÃ³cio / atendimento"],["å·¥æ¥­","ã“ã†ãã‚‡ã†","indÃºstria"]],
  "æ¥½":[["æ¥½ã—ã„","ãŸã®ã—ã„","divertido"],["éŸ³æ¥½","ãŠã‚“ãŒã","mÃºsica"],["æ¥½","ã‚‰ã","confortÃ¡vel"]],
  "æ­Œ":[["æ­Œ","ã†ãŸ","canÃ§Ã£o"],["æ­Œã†","ã†ãŸã†","cantar"],["æ­Œæ‰‹","ã‹ã—ã‚…","cantor"]],
  "æ­¢":[["æ­¢ã¾ã‚‹","ã¨ã¾ã‚‹","parar"],["æ­¢ã‚ã‚‹","ã¨ã‚ã‚‹","parar (algo)"],["ç¦æ­¢","ãã‚“ã—","proibido"]],
  "æ­£":[["æ­£ã—ã„","ãŸã ã—ã„","correto"],["æ­£æœˆ","ã—ã‚‡ã†ãŒã¤","ano novo (JP)"],["æ­£ç›´","ã—ã‚‡ã†ã˜ã","honesto"]],
  "æ­©":[["æ­©ã","ã‚ã‚‹ã","andar"],["æ•£æ­©","ã•ã‚“ã½","passeio"],["æ­©é“","ã»ã©ã†","calÃ§ada"]],
  "æ­»":[["æ­»ã¬","ã—ã¬","morrer"],["æ­»äº¡","ã—ã¼ã†","falecimento"],["æ­»è€…","ã—ã—ã‚ƒ","falecido"]],
  "æ³¨":[["æ³¨æ„","ã¡ã‚…ã†ã„","atenÃ§Ã£o"],["æ³¨æ–‡","ã¡ã‚…ã†ã‚‚ã‚“","pedido"],["æ³¨ã","ããã","despejar"]],
  "æ´‹":[["æ´‹æœ","ã‚ˆã†ãµã","roupa (ocidental)"],["æ´‹é£Ÿ","ã‚ˆã†ã—ã‚‡ã","comida ocidental"],["è¥¿æ´‹","ã›ã„ã‚ˆã†","ocidente"]],
  "æµ·":[["æµ·","ã†ã¿","mar"],["æµ·å¤–","ã‹ã„ãŒã„","exterior"],["æµ·æ°´","ã‹ã„ã™ã„","Ã¡gua do mar"]],
  "æ¼¢":[["æ¼¢å­—","ã‹ã‚“ã˜","kanji"],["æ¼¢èª","ã‹ã‚“ã”","termo sino-japonÃªs"],["æ¼¢æ–‡","ã‹ã‚“ã¶ã‚“","texto clÃ¡ssico"]],
  "ç‰›":[["ç‰›ä¹³","ãã‚…ã†ã«ã‚…ã†","leite"],["ç‰›è‚‰","ãã‚…ã†ã«ã","carne bovina"],["ç‰›","ã†ã—","vaca"]],
  "ç‰©":[["ç‰©","ã‚‚ã®","coisa"],["è²·ã„ç‰©","ã‹ã„ã‚‚ã®","compras"],["å‹•ç‰©","ã©ã†ã¶ã¤","animal"]],
  "ç‰¹":[["ç‰¹ã«","ã¨ãã«","especialmente"],["ç‰¹åˆ¥","ã¨ãã¹ã¤","especial"],["ç‰¹æ€¥","ã¨ã£ãã‚…ã†","trem expresso"]],
  "çŠ¬":[["çŠ¬","ã„ã¬","cachorro"],["å­çŠ¬","ã“ã„ã¬","filhote"],["çŠ¬å°å±‹","ã„ã¬ã”ã‚„","casinha do cachorro"]],
  "ç†":[["ç†ç”±","ã‚Šã‚†ã†","motivo"],["æ–™ç†","ã‚Šã‚‡ã†ã‚Š","culinÃ¡ria"],["ç†ç§‘","ã‚Šã‹","ciÃªncias"]],
  "ç”¨":[["ç”¨äº‹","ã‚ˆã†ã˜","assunto a resolver"],["åˆ©ç”¨","ã‚Šã‚ˆã†","uso"],["ã€œç”¨","ã€œã‚ˆã†","para (finalidade)"]],
  "ç”°":[["ç”°èˆ","ã„ãªã‹","interior"],["ç”°ã‚“ã¼","ãŸã‚“ã¼","arrozal"],["ç”°ä¸­","ãŸãªã‹","Tanaka (sobrenome)"]],
  "ç”º":[["ç”º","ã¾ã¡","cidade / bairro"],["ç”ºä¸­","ã¾ã¡ãªã‹","no centro"],["ç”ºå½¹å ´","ã¾ã¡ã‚„ãã°","prefeitura"]],
  "ç”»":[["æ˜ ç”»","ãˆã„ãŒ","filme"],["æ¼«ç”»","ã¾ã‚“ãŒ","mangÃ¡"],["ç”»é¢","ãŒã‚ã‚“","tela"]],
  "ç•Œ":[["ä¸–ç•Œ","ã›ã‹ã„","mundo"],["æ¥­ç•Œ","ãã‚‡ã†ã‹ã„","setor (indÃºstria)"],["å¢ƒç•Œ","ãã‚‡ã†ã‹ã„","fronteira"]],
  "ç—…":[["ç—…æ°—","ã³ã‚‡ã†ã","doenÃ§a"],["ç—…é™¢","ã³ã‚‡ã†ã„ã‚“","hospital"],["çœ‹ç—…","ã‹ã‚“ã³ã‚‡ã†","cuidar do doente"]],
  "ç™º":[["å‡ºç™º","ã—ã‚…ã£ã±ã¤","partida"],["ç™ºéŸ³","ã¯ã¤ãŠã‚“","pronÃºncia"],["ç™ºæ˜","ã¯ã¤ã‚ã„","invenÃ§Ã£o"]],
  "çš„":[["ç›®çš„","ã‚‚ãã¦ã","objetivo"],["åŸºæœ¬çš„","ãã»ã‚“ã¦ã","bÃ¡sico"],["å…·ä½“çš„","ããŸã„ã¦ã","concreto"]],
  "ç›®":[["ç›®","ã‚","olho"],["ç›®çš„","ã‚‚ãã¦ã","objetivo"],["ç›®è–¬","ã‚ãã™ã‚Š","colÃ­rio"]],
  "çœŸ":[["å†™çœŸ","ã—ã‚ƒã—ã‚“","foto"],["çœŸé¢ç›®","ã¾ã˜ã‚","sÃ©rio"],["çœŸã£ç™½","ã¾ã£ã—ã‚","branco puro"]],
  "ç€":[["ç€ã‚‹","ãã‚‹","vestir"],["ç€ã","ã¤ã","chegar"],["ä¸Šç€","ã†ã‚ã","casaco"]],
  "çŸ¥":[["çŸ¥ã‚‹","ã—ã‚‹","saber"],["çŸ¥ã‚‰ã›ã‚‹","ã—ã‚‰ã›ã‚‹","avisar"],["çŸ¥è­˜","ã¡ãã‚…ã†","conhecimento"]],
  "ç ”":[["ç ”ç©¶","ã‘ã‚“ãã‚…ã†","pesquisa"],["ç ”ç©¶å®¤","ã‘ã‚“ãã‚…ã†ã—ã¤","laboratÃ³rio"],["ç ”ä¿®","ã‘ã‚“ã—ã‚…ã†","treinamento"]],
  "ç¤¾":[["ä¼šç¤¾","ã‹ã„ã—ã‚ƒ","empresa"],["ç¤¾ä¼š","ã—ã‚ƒã‹ã„","sociedade"],["æœ¬ç¤¾","ã»ã‚“ã—ã‚ƒ","sede"]],
  "ç§":[["ç§","ã‚ãŸã—","eu"],["ç§ç«‹","ã—ã‚Šã¤","privado (instituiÃ§Ã£o)"],["ç§ç”Ÿæ´»","ã—ã›ã„ã‹ã¤","vida pessoal"]],
  "ç§‹":[["ç§‹","ã‚ã","outono"],["ç§‹é¢¨","ã‚ãã‹ãœ","vento do outono"],["ç§‹ä¼‘ã¿","ã‚ãã‚„ã™ã¿","folga de outono"]],
  "ç©¶":[["ç ”ç©¶","ã‘ã‚“ãã‚…ã†","pesquisa"],["ç©¶æ˜","ãã‚…ã†ã‚ã„","esclarecer"],["è¿½ç©¶","ã¤ã„ãã‚…ã†","investigar a fundo"]],
  "ç©º":[["ç©º","ãã‚‰","cÃ©u"],["ç©ºæ°—","ãã†ã","ar"],["ç©ºæ¸¯","ãã†ã“ã†","aeroporto"]],
  "ç«‹":[["ç«‹ã¤","ãŸã¤","ficar em pÃ©"],["ç«‹ã¦ã‚‹","ãŸã¦ã‚‹","erguer"],["ç‹¬ç«‹","ã©ãã‚Šã¤","independÃªncia"]],
  "ç­”":[["ç­”ãˆã‚‹","ã“ãŸãˆã‚‹","responder"],["ç­”ãˆ","ã“ãŸãˆ","resposta"],["å›ç­”","ã‹ã„ã¨ã†","resposta (formal)"]],
  "ç´™":[["ç´™","ã‹ã¿","papel"],["æ‰‹ç´™","ã¦ãŒã¿","carta"],["ç”¨ç´™","ã‚ˆã†ã—","formulÃ¡rio / folha"]],
  "çµ‚":[["çµ‚ã‚ã‚‹","ãŠã‚ã‚‹","terminar"],["æœ€çµ‚","ã•ã„ã—ã‚…ã†","final"],["çµ‚é›»","ã—ã‚…ã†ã§ã‚“","Ãºltimo trem"]],
  "ç¿’":[["ç¿’ã†","ãªã‚‰ã†","aprender"],["ç·´ç¿’","ã‚Œã‚“ã—ã‚…ã†","prÃ¡tica"],["ç¿’æ…£","ã—ã‚…ã†ã‹ã‚“","hÃ¡bito"]],
  "è€ƒ":[["è€ƒãˆã‚‹","ã‹ã‚“ãŒãˆã‚‹","pensar"],["å‚è€ƒ","ã•ã‚“ã“ã†","referÃªncia"],["è€ƒãˆ","ã‹ã‚“ãŒãˆ","ideia"]],
  "è€…":[["åŒ»è€…","ã„ã—ã‚ƒ","mÃ©dico"],["è‹¥è€…","ã‚ã‹ã‚‚ã®","jovens"],["æ—…è¡Œè€…","ã‚Šã‚‡ã“ã†ã—ã‚ƒ","viajante"]],
  "è‚‰":[["è‚‰","ã«ã","carne"],["ç‰›è‚‰","ãã‚…ã†ã«ã","carne bovina"],["è‚‰å±‹","ã«ãã‚„","aÃ§ougue"]],
  "è‡ª":[["è‡ªåˆ†","ã˜ã¶ã‚“","eu mesmo"],["è‡ªè»¢è»Š","ã˜ã¦ã‚“ã—ã‚ƒ","bicicleta"],["è‡ªå‹•è»Š","ã˜ã©ã†ã—ã‚ƒ","automÃ³vel"]],
  "è‰²":[["è‰²","ã„ã‚","cor"],["è‰²ã€…","ã„ã‚ã„ã‚","vÃ¡rios"],["èŒ¶è‰²","ã¡ã‚ƒã„ã‚","marrom"]],
  "èŠ±":[["èŠ±","ã¯ãª","flor"],["èŠ±ç«","ã¯ãªã³","fogos"],["èŠ±å±‹","ã¯ãªã‚„","floricultura"]],
  "è‹±":[["è‹±èª","ãˆã„ã”","inglÃªs"],["è‹±ä¼šè©±","ãˆã„ã‹ã„ã‚","conversaÃ§Ã£o em inglÃªs"],["è‹±æ–‡","ãˆã„ã¶ã‚“","texto em inglÃªs"]],
  "èŒ¶":[["ãŠèŒ¶","ãŠã¡ã‚ƒ","chÃ¡"],["èŒ¶è‰²","ã¡ã‚ƒã„ã‚","marrom"],["å–«èŒ¶åº—","ãã£ã•ã¦ã‚“","cafeteria"]],
  "è¦ª":[["ä¸¡è¦ª","ã‚Šã‚‡ã†ã—ã‚“","pais"],["è¦ªåˆ‡","ã—ã‚“ã›ã¤","gentil"],["è¦ªã—ã„","ã—ãŸã—ã„","Ã­ntimo"]],
  "è¨€":[["è¨€ã†","ã„ã†","dizer"],["è¨€è‘‰","ã“ã¨ã°","palavra"],["ç™ºè¨€","ã¯ã¤ã’ã‚“","declaraÃ§Ã£o"]],
  "è¨ˆ":[["æ™‚è¨ˆ","ã¨ã‘ã„","relÃ³gio"],["è¨ˆç”»","ã‘ã„ã‹ã","plano"],["åˆè¨ˆ","ã”ã†ã‘ã„","total"]],
  "è©¦":[["è©¦é¨“","ã—ã‘ã‚“","prova"],["è©¦ã™","ãŸã‚ã™","testar"],["è©¦åˆ","ã—ã‚ã„","partida (esporte)"]],
  "è²·":[["è²·ã†","ã‹ã†","comprar"],["è²·ã„ç‰©","ã‹ã„ã‚‚ã®","compras"],["è²·ã„æ‰‹","ã‹ã„ã¦","comprador"]],
  "è²¸":[["è²¸ã™","ã‹ã™","emprestar (dar)"],["è²¸ã—å‡ºã™","ã‹ã—ã ã™","emprestar (serviÃ§o)"],["è²¸å®¶","ã‹ã—ã‚„","casa para alugar"]],
  "è³ª":[["è³ªå•","ã—ã¤ã‚‚ã‚“","pergunta"],["å“è³ª","ã²ã‚“ã—ã¤","qualidade"],["æ€§è³ª","ã›ã„ã—ã¤","caracterÃ­stica / natureza"]],
  "èµ¤":[["èµ¤ã„","ã‚ã‹ã„","vermelho"],["èµ¤","ã‚ã‹","vermelho"],["èµ¤ã¡ã‚ƒã‚“","ã‚ã‹ã¡ã‚ƒã‚“","bebÃª"]],
  "èµ°":[["èµ°ã‚‹","ã¯ã—ã‚‹","correr"],["ç«¶èµ°","ãã‚‡ã†ãã†","corrida"],["èµ°ã‚Šæ–¹","ã¯ã—ã‚Šã‹ãŸ","jeito de correr"]],
  "èµ·":[["èµ·ãã‚‹","ãŠãã‚‹","acordar"],["èµ·ã“ã™","ãŠã“ã™","acordar alguÃ©m"],["èµ·ã“ã‚‹","ãŠã“ã‚‹","acontecer"]],
  "è¶³":[["è¶³","ã‚ã—","pÃ©"],["è¶³ã‚Šã‚‹","ãŸã‚Šã‚‹","ser suficiente"],["è¶³ã™","ãŸã™","somar / adicionar"]],
  "è»¢":[["è‡ªè»¢è»Š","ã˜ã¦ã‚“ã—ã‚ƒ","bicicleta"],["è»¢ã¶","ã“ã‚ã¶","cair / tropeÃ§ar"],["é‹è»¢","ã†ã‚“ã¦ã‚“","dirigir"]],
  "è¿‘":[["è¿‘ã„","ã¡ã‹ã„","perto"],["æœ€è¿‘","ã•ã„ãã‚“","recentemente"],["è¿‘æ‰€","ãã‚“ã˜ã‚‡","vizinhanÃ§a"]],
  "é€":[["é€ã‚‹","ãŠãã‚‹","enviar"],["æ”¾é€","ã»ã†ãã†","transmissÃ£o"],["é€æ–™","ãã†ã‚Šã‚‡ã†","frete"]],
  "é€š":[["é€šã‚‹","ã¨ãŠã‚‹","passar"],["é€šã†","ã‹ã‚ˆã†","frequentar (ir sempre)"],["æ™®é€š","ãµã¤ã†","normal / comum"]],
  "é€±":[["ä»Šé€±","ã“ã‚“ã—ã‚…ã†","esta semana"],["æ¯é€±","ã¾ã„ã—ã‚…ã†","toda semana"],["é€±æœ«","ã—ã‚…ã†ã¾ã¤","fim de semana"]],
  "é‹":[["é‹å‹•","ã†ã‚“ã©ã†","exercÃ­cio"],["é‹è»¢","ã†ã‚“ã¦ã‚“","dirigir"],["é‹ã¶","ã¯ã“ã¶","transportar"]],
  "é“":[["é“","ã¿ã¡","caminho"],["é“è·¯","ã©ã†ã‚","estrada"],["é“å…·","ã©ã†ã","ferramenta"]],
  "é‡":[["é‡ã„","ãŠã‚‚ã„","pesado"],["é‡è¦","ã˜ã‚…ã†ã‚ˆã†","importante"],["ä½“é‡","ãŸã„ã˜ã‚…ã†","peso corporal"]],
  "é‡":[["é‡èœ","ã‚„ã•ã„","legumes"],["é‡çƒ","ã‚„ãã‚…ã†","beisebol"],["é‡åŸ","ã®ã¯ã‚‰","campo aberto"]],
  "éŠ€":[["éŠ€è¡Œ","ãã‚“ã“ã†","banco"],["éŠ€","ãã‚“","prata"],["éŠ€è‰²","ãã‚“ã„ã‚","cor prata"]],
  "é–‹":[["é–‹ã‘ã‚‹","ã‚ã‘ã‚‹","abrir (algo)"],["é–‹ã","ã‚ã","abrir (intrans.)"],["é–‹å§‹","ã‹ã„ã—","inÃ­cio"]],
  "é™¢":[["ç—…é™¢","ã³ã‚‡ã†ã„ã‚“","hospital"],["å…¥é™¢","ã«ã‚…ã†ã„ã‚“","internaÃ§Ã£o"],["å­¦é™¢","ãŒãã„ã‚“","instituto"]],
  "é›†":[["é›†ã‚ã‚‹","ã‚ã¤ã‚ã‚‹","juntar"],["é›†ã¾ã‚‹","ã‚ã¤ã¾ã‚‹","reunir-se"],["é›†åˆ","ã—ã‚…ã†ã”ã†","reuniÃ£o / juntar"]],
  "é’":[["é’ã„","ã‚ãŠã„","azul"],["é’","ã‚ãŠ","azul"],["é’ç©º","ã‚ãŠãã‚‰","cÃ©u azul"]],
  "éŸ³":[["éŸ³","ãŠã¨","som"],["éŸ³æ¥½","ãŠã‚“ãŒã","mÃºsica"],["ç™ºéŸ³","ã¯ã¤ãŠã‚“","pronÃºncia"]],
  "é¡Œ":[["å®¿é¡Œ","ã—ã‚…ãã ã„","liÃ§Ã£o de casa"],["é¡Œå","ã ã„ã‚ã„","tÃ­tulo"],["å•é¡Œ","ã‚‚ã‚“ã ã„","questÃ£o"]],
  "é¢¨":[["é¢¨","ã‹ãœ","vento"],["å°é¢¨","ãŸã„ãµã†","tufÃ£o"],["æ‰‡é¢¨æ©Ÿ","ã›ã‚“ã·ã†ã","ventilador"]],
  "é£¯":[["ã”é£¯","ã”ã¯ã‚“","arroz / refeiÃ§Ã£o"],["æœã”é£¯","ã‚ã•ã”ã¯ã‚“","cafÃ© da manhÃ£"],["å¤•é£¯","ã‚†ã†ã¯ã‚“","jantar (refeiÃ§Ã£o)"]],
  "é£²":[["é£²ã‚€","ã®ã‚€","beber"],["é£²ã¿ç‰©","ã®ã¿ã‚‚ã®","bebida"],["é£²ã¿ä¼š","ã®ã¿ã‹ã„","encontro pra beber"]],
  "é¤¨":[["å›³æ›¸é¤¨","ã¨ã—ã‚‡ã‹ã‚“","biblioteca"],["æ˜ ç”»é¤¨","ãˆã„ãŒã‹ã‚“","cinema"],["ä½“è‚²é¤¨","ãŸã„ã„ãã‹ã‚“","ginÃ¡sio"]],
  "é§…":[["é§…","ãˆã","estaÃ§Ã£o"],["é§…å‰","ãˆãã¾ãˆ","em frente Ã  estaÃ§Ã£o"],["æœ€å¯„ã‚Šé§…","ã‚‚ã‚ˆã‚Šãˆã","estaÃ§Ã£o mais prÃ³xima"]],
  "é¨“":[["è©¦é¨“","ã—ã‘ã‚“","prova"],["çµŒé¨“","ã‘ã„ã‘ã‚“","experiÃªncia"],["å—é¨“","ã˜ã‚…ã‘ã‚“","fazer prova (vestibular)"]],
  "é­š":[["é­š","ã•ã‹ãª","peixe"],["é‡‘é­š","ãã‚“ãã‚‡","peixe dourado"],["é­šå±‹","ã•ã‹ãªã‚„","peixaria"]],
  "é³¥":[["é³¥","ã¨ã‚Š","pÃ¡ssaro"],["å°é³¥","ã“ã¨ã‚Š","passarinho"],["ç„¼ãé³¥","ã‚„ãã¨ã‚Š","yakitori"]],
  "é»’":[["é»’ã„","ãã‚ã„","preto"],["é»’","ãã‚","preto"],["é»’æ¿","ã“ãã°ã‚“","lousa"]]
};

/* =========================
   HELPERS
========================= */
const $ = (id)=>document.getElementById(id);

function flash(type){
  const f = $("flash");
  f.className = "flash " + type;
  void f.offsetWidth;
  f.classList.add("on");
  setTimeout(()=>f.classList.remove("on"), 560);
}
function shuffle(arr){
  const a = [...arr];
  for(let i=a.length-1;i>0;i--){
    const j = Math.floor(Math.random()*(i+1));
    [a[i],a[j]] = [a[j],a[i]];
  }
  return a;
}
function levelOf(k){
  if(N5_SET.has(k)) return "N5";
  if(N4_SET.has(k)) return "N4";
  return "N4";
}
function allKanjisUnique(){
  const set = new Set([...N5_LIST, ...N4_LIST]);
  return Array.from(set);
}
function poolByLevel(level){
  const all = allKanjisUnique().filter(isInfoComplete);
  if(level === "N5") return all.filter(k=>N5_SET.has(k));
  if(level === "N4") return all.filter(k=>N4_SET.has(k));
  return all;
}
function toHiragana(s){
  return (s||"").replace(/[\u30A1-\u30F6]/g, ch => String.fromCharCode(ch.charCodeAt(0) - 0x60));
}
function normalizeSearch(s){
  return toHiragana((s||"").trim().toLowerCase());
}
function isKana(s){
  return /^[\u3040-\u309F\u30A0-\u30FFãƒ¼]+$/.test(s);
}
function isKanjiLike(s){
  return /[\u4E00-\u9FFF]/.test(s);
}
function safeInfo(k){
  const info = KANJI_INFO[k] || {readings:["â€”"], meaning:"â€”"};
  const r = (info.readings||[]).map(toHiragana).filter(Boolean);
  return { readings: r.length ? r : ["â€”"], meaning: info.meaning || "â€”" };
}

/* =========================
   TABS
========================= */
const sections = { kanji:$("kanji"), quiz:$("quiz") };
const tabs = { kanji:$("tab-kanji"), quiz:$("tab-quiz") };
function openTab(id){
  Object.values(sections).forEach(s=>s.classList.remove("active"));
  Object.values(tabs).forEach(t=>t.classList.remove("active"));
  sections[id].classList.add("active");
  tabs[id].classList.add("active");
  if(id==="kanji") renderKanjiGrid();
}
tabs.kanji.addEventListener("click", ()=>openTab("kanji"));
tabs.quiz.addEventListener("click", ()=>openTab("quiz"));

/* =========================
   STROKE ORDER (KanjiVG)
========================= */
const svgCache = new Map();
const strokeAnimState = new WeakMap();

function codepointHex5(ch){
  return ch.codePointAt(0).toString(16).padStart(5,"0");
}
function clearSVGAnimation(svg){
  const st = strokeAnimState.get(svg);
  if(st?.length) st.forEach(t=>clearTimeout(t));
  strokeAnimState.set(svg, []);
}
function pickStrokePaths(svg){
  const all = Array.from(svg.querySelectorAll("path"));
  const strokes = all.filter(p=>{
    const id = (p.getAttribute("id") || "");
    return /-s\d+/.test(id);
  });
  return strokes.length ? strokes : all;
}
function preparePaths(paths){
  for(const p of paths){
    p.style.fill = "none";
    p.style.stroke = "var(--accent2)";
    p.style.strokeWidth = "3.4";
    p.style.strokeLinecap = "round";
    p.style.strokeLinejoin = "round";
    p.style.opacity = "1";
    p.style.transition = "none";
  }
}
function animateStrokeOrder(svg, speed=1){
  if(!svg) return;
  clearSVGAnimation(svg);

  const paths = pickStrokePaths(svg);
  if(!paths.length) return;

  preparePaths(paths);

  const lengths = paths.map(p=>{
    let len = 160;
    try{ len = p.getTotalLength(); }catch{}
    p.style.strokeDasharray = String(len);
    p.style.strokeDashoffset = String(len);
    return len;
  });

  const timeouts = [];
  let cursor = 0;

  for(let i=0;i<paths.length;i++){
    const p = paths[i];
    const len = lengths[i];
    const dur = Math.max(220, Math.min(900, len*2.1)) * speed;

    const t = setTimeout(()=>{
      p.style.transition = `stroke-dashoffset ${dur}ms linear`;
      p.style.strokeDashoffset = "0";
    }, cursor);

    timeouts.push(t);
    cursor += dur + 85*speed;
  }
  strokeAnimState.set(svg, timeouts);
}

async function loadKanjiSVGInto(kanji, targetEl){
  if(svgCache.has(kanji)){
    targetEl.innerHTML = svgCache.get(kanji);
    return targetEl.querySelector("svg");
  }
  const hex = codepointHex5(kanji);
  const url = `https://cdn.jsdelivr.net/gh/KanjiVG/kanjivg@master/kanji/${hex}.svg`;
  targetEl.innerHTML = `<div class="small">Carregando stroke order...</div>`;
  try{
    const res = await fetch(url, {cache:"force-cache"});
    if(!res.ok) throw new Error("HTTP "+res.status);
    const svgText = await res.text();
    const cleaned = svgText
      .replace(/width="[^"]*"/g,'')
      .replace(/height="[^"]*"/g,'')
      .replace(/<\?xml[^>]*\?>/g,'');
    svgCache.set(kanji, cleaned);
    targetEl.innerHTML = cleaned;
    return targetEl.querySelector("svg");
  }catch{
    targetEl.innerHTML = `<div class="small">Falha ao carregar. Ctrl+F5 e tente novamente.</div>`;
    return null;
  }
}

/* =========================
   KANJI TAB + SEARCH
========================= */
const kanjigrid = $("kanjigrid");
const levelFilter = $("levelFilter");
const kanjiCountHint = $("kanjiCountHint");
const kanjiSearch = $("kanjiSearch");
const clearSearch = $("clearSearch");

const kdBox = $("kanjiDetail");
const kdEmpty = $("kanjiDetailEmpty");
const kdKanji = $("kdKanji");
const kdReadings = $("kdReadings");
const kdMean = $("kdMean");
const kdBadges = $("kdBadges");
const kdStroke = $("kdStroke");
const kdSpeed = $("kdSpeed");

let selectedKanji = null;
let kdSvgEl = null;

function matchesSearch(kanji, info, query){
  if(!query) return true;
  const q = normalizeSearch(query);
  const infoR = (info.readings||[]).map(normalizeSearch);
  const mean = normalizeSearch(info.meaning || "");

  if(isKanjiLike(query)) return kanji.includes(query.trim());
  if(isKana(query)) return infoR.some(r => r.includes(q));
  return mean.includes(q);
}

function renderKanjiGrid(){
  const level = levelFilter.value;
  const base = poolByLevel(level);

  const q = (kanjiSearch.value||"").trim();
  const out = [];
  for(const k of base){
    const info = safeInfo(k);
    if(matchesSearch(k, info, q)) out.push(k);
  }

  kanjiCountHint.textContent = `Mostrando: ${out.length} / ${base.length} (nÃ­vel) â€¢ Total geral: ${poolByLevel("ALL").length}`;

  kanjigrid.innerHTML = "";
  const frag = document.createDocumentFragment();

  for(const k of out){
    const lvl = levelOf(k);
    const div = document.createElement("div");
    div.className = "kanjiitem";
    div.innerHTML = `<div class="k">${k}</div><div class="lvl"><b>${lvl}</b></div>`;
    div.addEventListener("click", ()=>showKanjiDetail(k, true));
    frag.appendChild(div);
  }
  kanjigrid.appendChild(frag);
}

levelFilter.addEventListener("change", ()=>{
  selectedKanji = null;
  kdSvgEl = null;
  kdBox.style.display = "none";
  kdEmpty.style.display = "block";
  renderKanjiGrid();
});
kanjiSearch.addEventListener("input", ()=>{
  if(window.__kSearchT) clearTimeout(window.__kSearchT);
  window.__kSearchT = setTimeout(()=>renderKanjiGrid(), 80);
});
clearSearch.addEventListener("click", ()=>{
  kanjiSearch.value = "";
  renderKanjiGrid();
});

async function showKanjiDetail(k, autoScroll){
  selectedKanji = k;

  kdEmpty.style.display="none";
  kdBox.style.display="block";

  const info = safeInfo(k);
  const lvl = levelOf(k);

  kdKanji.textContent = k;
  kdReadings.textContent = `Leituras: ${info.readings.join(" / ")}`;
  kdMean.textContent = `Significado: ${info.meaning}`;

  kdBadges.innerHTML = `<span class="badge ${lvl.toLowerCase()}">${lvl}</span><span class="badge tag">kanji</span>`;

  if(autoScroll){
    $("detailPanel").scrollIntoView({behavior:"smooth", block:"start"});
    setTimeout(()=> $("kdStrokeBox").scrollIntoView({behavior:"smooth", block:"start"}), 250);
  }

  kdSvgEl = await loadKanjiSVGInto(k, kdStroke);
  animateStrokeOrder(kdSvgEl, Number(kdSpeed.value));
}

$("kdReplay").addEventListener("click", ()=>{
  if(!selectedKanji) return;
  animateStrokeOrder(kdSvgEl, Number(kdSpeed.value));
});
kdSpeed.addEventListener("change", ()=>{
  if(!selectedKanji) return;
  animateStrokeOrder(kdSvgEl, Number(kdSpeed.value));
});
$("kdTrain").addEventListener("click", ()=>{
  if(!selectedKanji) return;
  openTab("quiz");
  setQuestion(selectedKanji);
});

/* =========================
   QUIZ STATS + REVIEW QUEUE
========================= */
const LS_KEY = "vampire_kanji_quiz_ptbr_v2";
const LS_REVIEW = "vampire_kanji_review_queue_v3";

/* RESET de revisÃ£o quando o site Ã© atualizado (build id) */
const BUILD_ID = "2025-12-26-v4";
const BUILD_KEY = "vampire_build_id";
(function(){
  try{
    const prev = localStorage.getItem(BUILD_KEY);
    if(prev !== BUILD_ID){
      localStorage.setItem(BUILD_KEY, BUILD_ID);
      localStorage.removeItem(LS_REVIEW); // nÃ£o carrega erros antigos apÃ³s atualizaÃ§Ã£o
    }
  }catch{}
})();

function defaultStats(){
  return { bestStreak:0, bestAccuracy:0, bestScore:0, totalCorrect:0, totalWrong:0, perKanji:{}, recent:[] };
}
function loadStats(){
  try{ const raw = localStorage.getItem(LS_KEY); return raw ? JSON.parse(raw) : defaultStats(); }
  catch{ return defaultStats(); }
}
function saveStats(){ try{ localStorage.setItem(LS_KEY, JSON.stringify(stats)); }catch{} }
let stats = loadStats();

function defaultReview(){ return { queue:[] }; }
function loadReview(){
  try{ const raw = localStorage.getItem(LS_REVIEW); return raw ? JSON.parse(raw) : defaultReview(); }
  catch{ return defaultReview(); }
}
function saveReview(){ try{ localStorage.setItem(LS_REVIEW, JSON.stringify(review)); }catch{} }
let review = loadReview();

function ensurePerKanji(k){ if(!stats.perKanji[k]) stats.perKanji[k] = {c:0,w:0}; }
function pushRecent(ok){
  stats.recent.push(ok ? 1 : 0);
  if(stats.recent.length > 12) stats.recent.shift();
}
function moodScore(){
  if(!stats.recent.length) return 0.5;
  const sum = stats.recent.reduce((a,b)=>a+b,0);
  return sum / stats.recent.length;
}
function applyMood(){
  const s = moodScore();
  $("quizMoodText").textContent = `Mood: ${Math.round(s*100)}%`;
}
function reviewCount(){ return Array.isArray(review.queue) ? review.queue.length : 0; }
function normalizeReviewQueue(){
  review.queue = Array.isArray(review.queue) ? review.queue : [];
  review.queue = review.queue.filter(x => typeof x === "string" && isInfoComplete(x));
}
function addToReviewQueue(k){
  normalizeReviewQueue();
  if(!review.queue.includes(k)) review.queue.push(k);
  saveReview();
  updateReviewUI();
}
function removeFromReviewQueue(k){
  normalizeReviewQueue();
  review.queue = review.queue.filter(x=>x!==k);
  saveReview();
  updateReviewUI();
}
function bumpReviewToEnd(k){
  normalizeReviewQueue();
  review.queue = review.queue.filter(x=>x!==k);
  review.queue.push(k);
  saveReview();
  updateReviewUI();
}

/* =========================
   QUIZ ENGINE
========================= */
const quizSmart = $("quizSmart");
const quizAuto = $("quizAuto");
const quizLevel = $("quizLevel");
const quizKanji = $("quizKanji");
const quizScoreEl = $("quizScore");
const quizTimerText = $("quizTimerText");
const timerBar = $("timerBar");
const quizTime = $("quizTime");

const readingChoices = $("readingChoices");
const meaningChoices = $("meaningChoices");

const quizFeedback = $("quizFeedback");
const quizFeedbackTitle = $("quizFeedbackTitle");
const quizFeedbackDetail = $("quizFeedbackDetail");
const quizStroke = $("quizStroke");
const quizSpeed = $("quizSpeed");

const quizVocabBox = $("quizVocabBox");
const quizVocabLvl = $("quizVocabLvl");
const quizVocabStatus = $("quizVocabStatus");
const quizVocabList = $("quizVocabList");

const bestStatsEl = $("bestStats");
const worstKanjisEl = $("worstKanjis");

const quizModeHint = $("quizModeHint");
const quizReviewBtn = $("quizReviewBtn");
const quizReviewCountBadge = $("quizReviewCountBadge");
const quizReviewCountEl = $("quizReviewCount");

$("goKanji").addEventListener("click", ()=> openTab("kanji"));
$("resetHistory").addEventListener("click", ()=>{
  stats = defaultStats();
  saveStats();
  updateRightPanel();
  applyMood();
  flash("bad");
});

const quizState = {
  current: "ä¸€",
  running: false,
  timerId: null,
  timeLeftMs: 12000,
  timeTotalMs: 12000,

  sessionCorrect: 0,
  sessionWrong: 0,
  sessionStreak: 0,

  answeredReading: false,
  answeredMeaning: false,
  okReading: false,
  okMeaning: false,

  lockedAfterResult: false,
  lastPick: null,

  mode: "normal", // "normal" | "review"

  startedOnce: false // <- evita "erro 1" antes de jogar
};

function setMode(mode){
  quizState.mode = mode;
  quizModeHint.textContent = (mode === "review") ? "Modo: revisÃ£o de erros" : "Modo: normal";
}

function updateScoreUI(){
  quizScoreEl.textContent =
    `Acertos: ${quizState.sessionCorrect} Â· Erros: ${quizState.sessionWrong} Â· Streak: ${quizState.sessionStreak}`;
}

function updateRightPanel(){
  const totalGlobal = stats.totalCorrect + stats.totalWrong;
  const accGlobal = totalGlobal ? (stats.totalCorrect / totalGlobal) : 0;

  bestStatsEl.innerHTML = `
    â€¢ Best streak: <b>${stats.bestStreak}</b><br>
    â€¢ Best accuracy: <b>${Math.round(stats.bestAccuracy*100)}%</b><br>
    â€¢ Best score (Câˆ’E): <b>${stats.bestScore}</b><br>
    â€¢ Global accuracy: <b>${Math.round(accGlobal*100)}%</b>
      (C:${stats.totalCorrect} / E:${stats.totalWrong})
  `;

  const arr = Object.entries(stats.perKanji).map(([k,v])=>{
    const total = v.c + v.w;
    const err = total ? (v.w / total) : 0;
    return {k, c:v.c, w:v.w, total, err};
  }).filter(x=>x.total>0);

  arr.sort((a,b)=> (b.w - a.w) || (b.err - a.err));
  const top = arr.slice(0,10);

  worstKanjisEl.innerHTML = top.length
    ? top.map(x=>{
        const pct = Math.round(x.err*100);
        return `â€¢ <b>${x.k}</b> â€” erros: ${x.w} / ${x.total} (${pct}%)`;
      }).join("<br>")
    : "â€”";
}

function updateBests(){
  stats.bestStreak = Math.max(stats.bestStreak, quizState.sessionStreak);
  const totalSession = quizState.sessionCorrect + quizState.sessionWrong;
  const accSession = totalSession ? (quizState.sessionCorrect / totalSession) : 0;
  const scoreSession = quizState.sessionCorrect - quizState.sessionWrong;
  stats.bestAccuracy = Math.max(stats.bestAccuracy, accSession);
  stats.bestScore = Math.max(stats.bestScore, scoreSession);
}

function readingText(k){ return safeInfo(k).readings.join(" / "); }
function meaningText(k){ return safeInfo(k).meaning; }

function buildChoices(kind, correctKanji, pool){
  const poolOthers = pool.filter(k => k !== correctKanji);
  const correctText = (kind === "reading") ? readingText(correctKanji) : meaningText(correctKanji);

  const picks = [{ text: correctText, correct: true }];
  const used = new Set([correctText]);
  const shuffled = shuffle(poolOthers);

  for(const k of shuffled){
    const t = (kind === "reading") ? readingText(k) : meaningText(k);
    if(!t || used.has(t)) continue;
    used.add(t);
    picks.push({ text: t, correct: false });
    if(picks.length === 4) break;
  }

  while(picks.length < 4){
    const k = poolOthers[Math.floor(Math.random() * poolOthers.length)];
    const t = (kind === "reading") ? readingText(k) : meaningText(k);
    if(!t || used.has(t)) continue;
    used.add(t);
    picks.push({ text: t, correct: false });
  }

  return shuffle(picks);
}

function resetQuestionState(){
  quizState.answeredReading = false;
  quizState.answeredMeaning = false;
  quizState.okReading = false;
  quizState.okMeaning = false;
  quizState.lockedAfterResult = false;
  quizFeedback.style.display = "none";
  quizVocabBox.style.display = "none";
}

function disableAllChoices(){
  document.querySelectorAll(".choiceBtn").forEach(b=> b.disabled = true);
}

function renderChoiceButtons(targetEl, options, onPick){
  targetEl.innerHTML = "";
  for(const opt of options){
    const b = document.createElement("button");
    b.type = "button";
    b.className = "choiceBtn";
    b.textContent = opt.text;

    b.addEventListener("click", ()=>{
      if(quizState.lockedAfterResult) return;

      const btns = Array.from(targetEl.querySelectorAll(".choiceBtn"));
      btns.forEach(btn=> btn.disabled = true);

      btns.forEach((btn, idx)=>{ if(options[idx].correct) btn.classList.add("correct"); });

      if(opt.correct) b.classList.add("correct");
      else b.classList.add("wrong");

      onPick(opt.correct);
    });

    targetEl.appendChild(b);
  }
}

function weightedPick(pool){
  let total = 0;
  const weights = pool.map(k=>{
    ensurePerKanji(k);
    const {c,w} = stats.perKanji[k];
    const unseen = (c+w===0) ? 1.0 : 0;
    const weight = Math.max(0.2, 1 + w*2.6 - c*0.30 + unseen);
    total += weight;
    return weight;
  });

  let r = Math.random() * total;
  for(let i=0;i<pool.length;i++){
    r -= weights[i];
    if(r <= 0) return pool[i];
  }
  return pool[pool.length-1];
}

function getQuizPool(){
  if(quizState.mode === "review"){
    normalizeReviewQueue();
    if(review.queue.length) return review.queue;
    setMode("normal");
    return poolByLevel(quizLevel.value);
  }
  return poolByLevel(quizLevel.value);
}

function pickKanji(pool){
  if(!pool || !pool.length) return "ä¸€";
  let k = quizSmart.checked ? weightedPick(pool) : pool[Math.floor(Math.random()*pool.length)];
  if(pool.length > 1 && k === quizState.lastPick){
    k = pool[Math.floor(Math.random()*pool.length)];
  }
  quizState.lastPick = k;
  return k;
}

/* =========================
   TIMER (sÃ³ roda apÃ³s Start)
========================= */
function updateTimerUI(){
  const leftSec = Math.max(0, Math.ceil(quizState.timeLeftMs/1000));
  quizTimerText.textContent = `â±ï¸ ${leftSec}s`;
  const pct = quizState.timeTotalMs ? (quizState.timeLeftMs/quizState.timeTotalMs) : 0;
  timerBar.style.width = `${Math.max(0, Math.min(1, pct))*100}%`;
}
function stopTimer(){
  if(quizState.timerId){
    clearInterval(quizState.timerId);
    quizState.timerId = null;
  }
  quizState.running = false;
}
function startTimer(reset){
  const seconds = Number(quizTime.value);
  quizState.timeTotalMs = seconds*1000;
  if(reset) quizState.timeLeftMs = quizState.timeTotalMs;

  stopTimer();
  quizState.running = true;

  quizState.timerId = setInterval(()=>{
    if(quizState.lockedAfterResult) return;
    quizState.timeLeftMs -= 200;
    updateTimerUI();
    if(quizState.timeLeftMs <= 0){
      stopTimer();
      if(!quizState.lockedAfterResult) commitResult(false, "timeout");
    }
  }, 200);

  updateTimerUI();
}

/* =========================
   VOCAB (3)
========================= */
function getVocab3ForKanji(kanji){
  const arr = VOCAB_DB[kanji];
  if(Array.isArray(arr) && arr.length >= 3) return arr.slice(0,3);
  return [];
}
function renderVocab3(kanji){
  const lvl = levelOf(kanji);
  const items = getVocab3ForKanji(kanji);

  quizVocabLvl.textContent = lvl;
  quizVocabStatus.textContent = items.length ? "ok" : "sem dados";
  quizVocabList.innerHTML = "";

  if(!items.length){
    quizVocabList.innerHTML = `<div class="small">Sem vocabulÃ¡rio cadastrado para este kanji.</div>`;
    quizVocabBox.style.display = "block";
    return;
  }

  for(const it of items){
    const [w,r,m] = it;
    const div = document.createElement("div");
    div.className = "vocabItem";
    div.innerHTML = `
      <div class="vocabRow1">
        <div class="vocabWord">${w || "â€”"}</div>
        <div class="badge ${lvl.toLowerCase()}">${lvl}</div>
      </div>
      <div class="vocabReading">Leitura: <b>${r || "â€”"}</b></div>
      <div class="vocabMeaning">Significado: <b>${m || "â€”"}</b></div>
    `;
    quizVocabList.appendChild(div);
  }
  quizVocabBox.style.display = "block";
}

/* =========================
   QUESTÃƒO
========================= */
let quizSvgEl = null;

function setQuestion(kanji){
  if(!kanji || typeof kanji !== "string") kanji = "ä¸€";
  quizState.current = kanji;
  quizKanji.textContent = kanji;

  resetQuestionState();

  const pool = getQuizPool();
  const safePool = (pool && pool.length >= 6) ? pool : poolByLevel("ALL");

  const rOpts = buildChoices("reading", kanji, safePool);
  const mOpts = buildChoices("meaning", kanji, safePool);

  renderChoiceButtons(readingChoices, rOpts, (ok)=>{
    quizState.answeredReading = true;
    quizState.okReading = ok;
    evaluateIfComplete();
  });

  renderChoiceButtons(meaningChoices, mOpts, (ok)=>{
    quizState.answeredMeaning = true;
    quizState.okMeaning = ok;
    evaluateIfComplete();
  });

  const seconds = Number(quizTime.value);
  quizState.timeTotalMs = seconds * 1000;
  quizState.timeLeftMs = quizState.timeTotalMs;
  updateTimerUI();

  // IMPORTANT: nÃ£o auto-inicia antes do usuÃ¡rio apertar Start
  if(quizState.running) startTimer(true);
  else if(quizAuto.checked && quizState.startedOnce) startTimer(true);
}

function nextQuestion(){
  const pool = getQuizPool();
  const k = pickKanji(pool && pool.length ? pool : poolByLevel("ALL"));
  setQuestion(k);
}

/* =========================
   FEEDBACK + RESULT COMMIT
========================= */
async function showFeedback(okAll, reason){
  const k = quizState.current;
  const info = safeInfo(k);

  quizFeedback.style.display = "block";
  quizFeedbackTitle.innerHTML = okAll
    ? `âœ… <b>Acertou</b>`
    : (reason === "timeout" ? `â±ï¸ <b>Tempo esgotado</b>` : `âŒ <b>Errou</b>`);

  quizFeedbackDetail.innerHTML = `
    Kanji: <b>${k}</b> Â· <b>${levelOf(k)}</b><br>
    Leituras: <b>${info.readings.join(" / ")}</b><br>
    Significado: <b>${info.meaning}</b>
  `;

  renderVocab3(k);

  quizSvgEl = await loadKanjiSVGInto(k, quizStroke);
  animateStrokeOrder(quizSvgEl, Number(quizSpeed.value));
}

function commitResult(okAll, reason){
  const k = quizState.current;
  ensurePerKanji(k);

  if(okAll){
    quizState.sessionCorrect += 1;
    quizState.sessionStreak += 1;
    stats.totalCorrect += 1;
    stats.perKanji[k].c += 1;
    pushRecent(true);
    flash("good");

    if(quizState.mode === "review"){
      removeFromReviewQueue(k);
      if(reviewCount() === 0){
        setMode("normal");
      }
    }
  }else{
    quizState.sessionWrong += 1;
    quizState.sessionStreak = 0;
    stats.totalWrong += 1;
    stats.perKanji[k].w += 1;
    pushRecent(false);
    flash("bad");

    if(quizState.mode === "normal"){
      addToReviewQueue(k);
    }else{
      bumpReviewToEnd(k);
    }
  }

  updateScoreUI();
  updateBests();
  applyMood();
  updateRightPanel();
  saveStats();

  stopTimer();
  disableAllChoices();

  quizState.lockedAfterResult = true;
  showFeedback(okAll, reason);
}

function evaluateIfComplete(){
  if(!(quizState.answeredReading && quizState.answeredMeaning)) return;
  const okAll = quizState.okReading && quizState.okMeaning;
  commitResult(okAll, "answered");
}

/* =========================
   REVISÃƒO (anti-freeze)
========================= */
function updateReviewUI(){
  normalizeReviewQueue();
  const c = reviewCount();
  quizReviewCountEl.textContent = String(c);
  quizReviewCountBadge.style.display = c > 0 ? "inline-flex" : "none";
  quizReviewBtn.style.display = c > 0 ? "inline-flex" : "none";
  if(c === 0 && quizState.mode === "review"){
    setMode("normal");
  }
}

let reviewBusy = false;

function toggleReview(){
  if(reviewBusy) return;
  reviewBusy = true;

  try{
    normalizeReviewQueue();
    const c = reviewCount();

    if(c <= 0){
      setMode("normal");
      updateReviewUI();
      return;
    }

    stopTimer();
    quizState.lockedAfterResult = false;

    if(quizState.mode === "review"){
      setMode("normal");
      quizReviewBtn.textContent = "Revisar erros";
    }else{
      setMode("review");
      quizReviewBtn.textContent = "Sair da revisÃ£o";
    }

    updateReviewUI();
    nextQuestion();
  } finally {
    setTimeout(()=>{ reviewBusy = false; }, 220);
  }
}

quizReviewBtn.addEventListener("click", ()=> toggleReview());

let lastP = 0;
window.addEventListener("keydown", (e)=>{
  if(!e.key) return;
  if(e.key !== "p" && e.key !== "P") return;
  if(!sections.quiz.classList.contains("active")) return;

  if(e.repeat) return;
  const now = Date.now();
  if(now - lastP < 320) return;
  lastP = now;

  e.preventDefault();
  toggleReview();
});

/* =========================
   CONTROLES QUIZ
========================= */
$("quizStart").addEventListener("click", ()=>{
  // agora comeÃ§ou de verdade
  quizState.startedOnce = true;
  if(quizState.lockedAfterResult) return;
  startTimer(true);
});
$("quizPause").addEventListener("click", ()=>{
  if(!quizState.startedOnce) return; // nÃ£o pausa algo que nunca comeÃ§ou
  if(quizState.lockedAfterResult) return;
  if(quizState.running) stopTimer();
  else startTimer(false);
});
$("quizNext").addEventListener("click", ()=>{
  quizState.startedOnce = true;
  nextQuestion();
  updateRightPanel();
  saveStats();
});
$("quizReset").addEventListener("click", ()=>{
  stopTimer();
  quizState.sessionCorrect = 0;
  quizState.sessionWrong = 0;
  quizState.sessionStreak = 0;
  updateScoreUI();
  updateRightPanel();
  saveStats();
  flash("bad");
  quizState.startedOnce = false;
  setQuestion("ä¸€");
});

quizTime.addEventListener("change", ()=>{
  quizState.timeTotalMs = Number(quizTime.value)*1000;
  quizState.timeLeftMs = quizState.timeTotalMs;
  updateTimerUI();
  if(quizState.running) startTimer(true);
});
$("quizReplay").addEventListener("click", ()=>{
  if(!quizSvgEl) return;
  animateStrokeOrder(quizSvgEl, Number(quizSpeed.value));
});
quizSpeed.addEventListener("change", ()=>{
  if(!quizSvgEl) return;
  animateStrokeOrder(quizSvgEl, Number(quizSpeed.value));
});
quizLevel.addEventListener("change", ()=>{
  nextQuestion();
});

/* =========================
   INIT
========================= */
function init(){
  renderKanjiGrid();
  updateRightPanel();
  applyMood();
  updateScoreUI();
  updateReviewUI();
  setQuestion("ä¸€"); // nÃ£o inicia timer aqui
}
init();

/* =========================
   HERO KANJI RAIN (bem leve)
========================= */
(function(){
  const canvas = document.getElementById("heroRain");
  const hero = document.querySelector(".hero");
  if(!canvas || !hero) return;

  const ctx = canvas.getContext("2d", { alpha: true });
  const glyphs = allKanjisUnique().concat(["ç„¡","å¸¸"]);

  let W=0,H=0,cols=0;
  let drops = [];
  let last=0;
  let skipMod = 4;

  function resize(){
    const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
    W = canvas.clientWidth = hero.clientWidth;
    H = canvas.clientHeight = hero.clientHeight;
    canvas.width = Math.floor(W * dpr);
    canvas.height = Math.floor(H * dpr);
    ctx.setTransform(dpr,0,0,dpr,0,0);

    const fontSize = Math.max(14, Math.min(18, Math.floor(W/70)));
    cols = Math.max(1, Math.floor(W / fontSize));
    drops = Array.from({length: cols}, ()=>Math.random()*H);
    canvas.__fontSize = fontSize;

    skipMod = W > 1200 ? 5 : 4;
  }

  function rndGlyph(){
    return glyphs[Math.floor(Math.random()*glyphs.length)];
  }

  function draw(ts){
    if(ts - last < 42) { requestAnimationFrame(draw); return; }
    last = ts;

    const fs = canvas.__fontSize || 16;

    ctx.fillStyle = "rgba(10,14,20,0.30)";
    ctx.fillRect(0,0,W,H);

    ctx.font = `900 ${fs}px "Yu Gothic","Hiragino Kaku Gothic ProN",system-ui,sans-serif`;

    const hue = (Number(getComputedStyle(document.documentElement).getPropertyValue("--themeHue")) || 195);

    for(let i=0;i<cols;i++){
      if(i % skipMod !== 0) continue;
      if(Math.random() < 0.58) continue;

      const x = i*fs + (fs*0.1);
      const y = drops[i];

      ctx.fillStyle = `hsla(${hue}, 90%, 74%, 0.30)`;
      ctx.fillText(rndGlyph(), x, y);

      drops[i] += (fs * 0.30) + (Math.random()*0.35);

      if(drops[i] > H + fs*2){
        drops[i] = -Math.random()*H*0.25;
      }
    }

    requestAnimationFrame(draw);
  }

  resize();
  window.addEventListener("resize", ()=>{ clearTimeout(canvas.__rt); canvas.__rt=setTimeout(resize, 120); });
  requestAnimationFrame(draw);
})();
</script>

</body>
</html>
